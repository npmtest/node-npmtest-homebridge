{"/home/travis/build/npmtest/node-npmtest-homebridge/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_homebridge */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-homebridge/lib.npmtest_homebridge.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/lib.npmtest_homebridge.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":55}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":61}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_homebridge */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_homebridge = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_homebridge = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-homebridge/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":54}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":68},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-homebridge && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_homebridge */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_homebridge","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_homebridge.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_homebridge.rollup.js'] =","            local.assetsDict['/assets.npmtest_homebridge.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_homebridge.__dirname + '/lib.npmtest_homebridge.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/bin/homebridge":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/bin/homebridge","s":{"1":2,"2":2,"3":2,"4":2,"5":2},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":9,"column":0},"end":{"line":9,"column":29}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":23}},"4":{"start":{"line":14,"column":0},"end":{"line":14,"column":73}},"5":{"start":{"line":17,"column":0},"end":{"line":17,"column":24}}},"branchMap":{},"code":["//#!/usr/bin/env node","","//","// This executable sets up the environment and runs the HomeBridge CLI.","//","","'use strict';","","process.title = 'homebridge';","","// Find the HomeBridge lib","var path = require('path');","var fs = require('fs');","var lib = path.join(path.dirname(fs.realpathSync(__filename)), '../lib');","","// Run HomeBridge","require(lib + '/cli')();"],"l":{"9":2,"12":2,"13":2,"14":2,"17":2}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/cli.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/cli.js","s":{"1":4,"2":4,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":11,"loc":{"start":{"line":11,"column":17},"end":{"line":11,"column":28}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":156},"end":{"line":17,"column":168}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":138},"end":{"line":18,"column":150}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":58},"end":{"line":19,"column":69}}},"5":{"name":"(anonymous_5)","line":20,"loc":{"start":{"line":20,"column":85},"end":{"line":20,"column":96}}},"6":{"name":"(anonymous_6)","line":29,"loc":{"start":{"line":29,"column":31},"end":{"line":29,"column":49}}},"7":{"name":"(anonymous_7)","line":30,"loc":{"start":{"line":30,"column":23},"end":{"line":30,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":38}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":13}},"9":{"start":{"line":11,"column":0},"end":{"line":41,"column":1}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":29}},"11":{"start":{"line":15,"column":2},"end":{"line":21,"column":25}},"12":{"start":{"line":17,"column":170},"end":{"line":17,"column":194}},"13":{"start":{"line":18,"column":152},"end":{"line":18,"column":175}},"14":{"start":{"line":19,"column":71},"end":{"line":19,"column":113}},"15":{"start":{"line":20,"column":98},"end":{"line":20,"column":120}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":31}},"17":{"start":{"line":26,"column":2},"end":{"line":26,"column":42}},"18":{"start":{"line":28,"column":2},"end":{"line":28,"column":47}},"19":{"start":{"line":29,"column":2},"end":{"line":38,"column":5}},"20":{"start":{"line":30,"column":4},"end":{"line":37,"column":7}},"21":{"start":{"line":31,"column":6},"end":{"line":31,"column":62}},"22":{"start":{"line":34,"column":6},"end":{"line":34,"column":40}},"23":{"start":{"line":36,"column":6},"end":{"line":36,"column":42}},"24":{"start":{"line":40,"column":2},"end":{"line":40,"column":15}}},"branchMap":{},"code":["var program = require('commander');","var hap = require(\"hap-nodejs\");","var version = require('./version');","var Server = require('./server').Server;","var Plugin = require('./plugin').Plugin;","var User = require('./user').User;","var log = require(\"./logger\")._system;","","'use strict';","","module.exports = function() {","","  var insecureAccess = false;","","  program","    .version(version)","    .option('-P, --plugin-path [path]', 'look for plugins installed at [path] as well as the default locations ([path] can also point to a single plugin)', function(p) { Plugin.addPluginPath(p); })","    .option('-U, --user-storage-path [path]', 'look for homebridge user files at [path] instead of the default location (~/.homebridge)', function(p) { User.setStoragePath(p); })","    .option('-D, --debug', 'turn on debug level logging', function() { require('./logger').setDebugEnabled(true) })","    .option('-I, --insecure', 'allow unauthenticated requests (for easier hacking)', function() { insecureAccess = true })","    .parse(process.argv);","","  // Initialize HAP-NodeJS with a custom persist directory","  hap.init(User.persistPath());","  ","  var server = new Server(insecureAccess);","","  var signals = { 'SIGINT': 2, 'SIGTERM': 15 };","  Object.keys(signals).forEach(function (signal) {","    process.on(signal, function () {","      log.info(\"Got %s, shutting down Homebridge...\", signal);","","      // Save cached accessories to persist storage.","      server._updateCachedAccessories();","","      process.exit(128 + signals[signal]);","    });","  });","","  server.run();","}",""],"l":{"1":4,"2":4,"3":0,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"13":0,"15":0,"17":0,"18":0,"19":0,"20":0,"24":0,"26":0,"28":0,"29":0,"30":0,"31":0,"34":0,"36":0,"40":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/api.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/api.js","s":{"1":2,"2":2,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"API","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":15}}},"2":{"name":"(anonymous_2)","line":46,"loc":{"start":{"line":46,"column":26},"end":{"line":46,"column":41}}},"3":{"name":"(anonymous_3)","line":76,"loc":{"start":{"line":76,"column":34},"end":{"line":76,"column":112}}},"4":{"name":"(anonymous_4)","line":92,"loc":{"start":{"line":92,"column":41},"end":{"line":92,"column":75}}},"5":{"name":"(anonymous_5)","line":104,"loc":{"start":{"line":104,"column":25},"end":{"line":104,"column":40}}},"6":{"name":"(anonymous_6)","line":134,"loc":{"start":{"line":134,"column":33},"end":{"line":134,"column":90}}},"7":{"name":"(anonymous_7)","line":149,"loc":{"start":{"line":149,"column":44},"end":{"line":149,"column":92}}},"8":{"name":"(anonymous_8)","line":162,"loc":{"start":{"line":162,"column":42},"end":{"line":162,"column":64}}},"9":{"name":"(anonymous_9)","line":166,"loc":{"start":{"line":166,"column":46},"end":{"line":166,"column":94}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":64}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":73}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"9":{"start":{"line":12,"column":0},"end":{"line":14,"column":1}},"10":{"start":{"line":16,"column":0},"end":{"line":42,"column":1}},"11":{"start":{"line":17,"column":2},"end":{"line":17,"column":25}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":23}},"13":{"start":{"line":20,"column":2},"end":{"line":20,"column":37}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":30}},"15":{"start":{"line":24,"column":2},"end":{"line":24,"column":21}},"16":{"start":{"line":27,"column":2},"end":{"line":27,"column":37}},"17":{"start":{"line":30,"column":2},"end":{"line":30,"column":19}},"18":{"start":{"line":35,"column":2},"end":{"line":35,"column":17}},"19":{"start":{"line":39,"column":2},"end":{"line":39,"column":39}},"20":{"start":{"line":41,"column":2},"end":{"line":41,"column":45}},"21":{"start":{"line":44,"column":0},"end":{"line":44,"column":28}},"22":{"start":{"line":46,"column":0},"end":{"line":74,"column":1}},"23":{"start":{"line":50,"column":2},"end":{"line":73,"column":3}},"24":{"start":{"line":51,"column":4},"end":{"line":51,"column":19}},"25":{"start":{"line":52,"column":4},"end":{"line":55,"column":5}},"26":{"start":{"line":53,"column":6},"end":{"line":54,"column":29}},"27":{"start":{"line":54,"column":8},"end":{"line":54,"column":29}},"28":{"start":{"line":57,"column":4},"end":{"line":65,"column":5}},"29":{"start":{"line":58,"column":6},"end":{"line":58,"column":41}},"30":{"start":{"line":60,"column":9},"end":{"line":65,"column":5}},"31":{"start":{"line":61,"column":6},"end":{"line":61,"column":163}},"32":{"start":{"line":64,"column":6},"end":{"line":64,"column":98}},"33":{"start":{"line":69,"column":4},"end":{"line":70,"column":98}},"34":{"start":{"line":70,"column":6},"end":{"line":70,"column":98}},"35":{"start":{"line":72,"column":4},"end":{"line":72,"column":35}},"36":{"start":{"line":76,"column":0},"end":{"line":90,"column":1}},"37":{"start":{"line":77,"column":2},"end":{"line":77,"column":50}},"38":{"start":{"line":79,"column":2},"end":{"line":80,"column":113}},"39":{"start":{"line":80,"column":4},"end":{"line":80,"column":113}},"40":{"start":{"line":82,"column":2},"end":{"line":82,"column":51}},"41":{"start":{"line":84,"column":2},"end":{"line":84,"column":44}},"42":{"start":{"line":87,"column":2},"end":{"line":89,"column":3}},"43":{"start":{"line":88,"column":4},"end":{"line":88,"column":74}},"44":{"start":{"line":92,"column":0},"end":{"line":102,"column":1}},"45":{"start":{"line":93,"column":2},"end":{"line":99,"column":3}},"46":{"start":{"line":94,"column":4},"end":{"line":94,"column":39}},"47":{"start":{"line":95,"column":4},"end":{"line":97,"column":5}},"48":{"start":{"line":96,"column":6},"end":{"line":96,"column":103}},"49":{"start":{"line":98,"column":4},"end":{"line":98,"column":45}},"50":{"start":{"line":101,"column":2},"end":{"line":101,"column":53}},"51":{"start":{"line":104,"column":0},"end":{"line":132,"column":1}},"52":{"start":{"line":108,"column":2},"end":{"line":131,"column":3}},"53":{"start":{"line":109,"column":4},"end":{"line":109,"column":19}},"54":{"start":{"line":110,"column":4},"end":{"line":113,"column":5}},"55":{"start":{"line":111,"column":6},"end":{"line":112,"column":29}},"56":{"start":{"line":112,"column":8},"end":{"line":112,"column":29}},"57":{"start":{"line":115,"column":4},"end":{"line":123,"column":5}},"58":{"start":{"line":116,"column":6},"end":{"line":116,"column":39}},"59":{"start":{"line":118,"column":9},"end":{"line":123,"column":5}},"60":{"start":{"line":119,"column":6},"end":{"line":119,"column":162}},"61":{"start":{"line":122,"column":6},"end":{"line":122,"column":97}},"62":{"start":{"line":127,"column":4},"end":{"line":128,"column":97}},"63":{"start":{"line":128,"column":6},"end":{"line":128,"column":97}},"64":{"start":{"line":130,"column":4},"end":{"line":130,"column":33}},"65":{"start":{"line":134,"column":0},"end":{"line":147,"column":1}},"66":{"start":{"line":135,"column":2},"end":{"line":135,"column":49}},"67":{"start":{"line":137,"column":2},"end":{"line":138,"column":111}},"68":{"start":{"line":138,"column":4},"end":{"line":138,"column":111}},"69":{"start":{"line":140,"column":2},"end":{"line":140,"column":50}},"70":{"start":{"line":142,"column":2},"end":{"line":142,"column":42}},"71":{"start":{"line":144,"column":2},"end":{"line":146,"column":3}},"72":{"start":{"line":145,"column":4},"end":{"line":145,"column":51}},"73":{"start":{"line":149,"column":0},"end":{"line":160,"column":1}},"74":{"start":{"line":150,"column":2},"end":{"line":157,"column":3}},"75":{"start":{"line":151,"column":4},"end":{"line":151,"column":39}},"76":{"start":{"line":152,"column":4},"end":{"line":154,"column":5}},"77":{"start":{"line":153,"column":6},"end":{"line":153,"column":126}},"78":{"start":{"line":155,"column":4},"end":{"line":155,"column":45}},"79":{"start":{"line":156,"column":4},"end":{"line":156,"column":49}},"80":{"start":{"line":159,"column":2},"end":{"line":159,"column":56}},"81":{"start":{"line":162,"column":0},"end":{"line":164,"column":1}},"82":{"start":{"line":163,"column":2},"end":{"line":163,"column":54}},"83":{"start":{"line":166,"column":0},"end":{"line":174,"column":1}},"84":{"start":{"line":167,"column":2},"end":{"line":172,"column":3}},"85":{"start":{"line":168,"column":4},"end":{"line":168,"column":39}},"86":{"start":{"line":169,"column":4},"end":{"line":171,"column":5}},"87":{"start":{"line":170,"column":6},"end":{"line":170,"column":128}},"88":{"start":{"line":173,"column":2},"end":{"line":173,"column":58}}},"branchMap":{"1":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":2},"end":{"line":50,"column":2}},{"start":{"line":50,"column":2},"end":{"line":50,"column":2}}]},"2":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":6}},{"start":{"line":53,"column":6},"end":{"line":53,"column":6}}]},"3":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":4}},{"start":{"line":57,"column":4},"end":{"line":57,"column":4}}]},"4":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":9},"end":{"line":60,"column":9}},{"start":{"line":60,"column":9},"end":{"line":60,"column":9}}]},"5":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":4}},{"start":{"line":69,"column":4},"end":{"line":69,"column":4}}]},"6":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":2},"end":{"line":79,"column":2}},{"start":{"line":79,"column":2},"end":{"line":79,"column":2}}]},"7":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":2},"end":{"line":87,"column":2}},{"start":{"line":87,"column":2},"end":{"line":87,"column":2}}]},"8":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":4}},{"start":{"line":95,"column":4},"end":{"line":95,"column":4}}]},"9":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":2},"end":{"line":108,"column":2}},{"start":{"line":108,"column":2},"end":{"line":108,"column":2}}]},"10":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":6},"end":{"line":111,"column":6}},{"start":{"line":111,"column":6},"end":{"line":111,"column":6}}]},"11":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":4}},{"start":{"line":115,"column":4},"end":{"line":115,"column":4}}]},"12":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":9},"end":{"line":118,"column":9}},{"start":{"line":118,"column":9},"end":{"line":118,"column":9}}]},"13":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":127,"column":4}},{"start":{"line":127,"column":4},"end":{"line":127,"column":4}}]},"14":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":2},"end":{"line":137,"column":2}},{"start":{"line":137,"column":2},"end":{"line":137,"column":2}}]},"15":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":2},"end":{"line":144,"column":2}},{"start":{"line":144,"column":2},"end":{"line":144,"column":2}}]},"16":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":4},"end":{"line":152,"column":4}},{"start":{"line":152,"column":4},"end":{"line":152,"column":4}}]},"17":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":4}},{"start":{"line":169,"column":4},"end":{"line":169,"column":4}}]}},"code":["var inherits = require('util').inherits;","var EventEmitter = require('events').EventEmitter;","var hap = require(\"hap-nodejs\");","var hapLegacyTypes = require(\"hap-nodejs/accessories/types.js\");","var log = require(\"./logger\")._system;","var User = require(\"./user\").User;","var PlatformAccessory = require(\"./platformAccessory\").PlatformAccessory;","var serverVersion = require(\"./version\");","","// The official homebridge API is the object we feed the plugin's exported initializer function.","","module.exports = {","  API: API","}","","function API() {","  this._accessories = {}; // this._accessories[pluginName.accessoryName] = accessory constructor","  this._platforms = {}; // this._platforms[pluginName.platformName] = platform constructor","","  this._configurableAccessories = {};","  this._dynamicPlatforms = {}; // this._dynamicPlatforms[pluginName.platformName] = platform constructor","  ","  // expose the homebridge API version","  this.version = 2.2;","","  // expose the homebridge server version","  this.serverVersion = serverVersion;","","  // expose the User class methods to plugins to get paths. Example: homebridge.user.storagePath()","  this.user = User;","  ","  // expose HAP-NodeJS in its entirely for plugins to use instead of making Plugins","  // require() it as a dependency - it's a heavy dependency so we don't want it in","  // every single plugin.","  this.hap = hap;","  ","  // we also need to \"bolt on\" the legacy \"types\" constants for older accessories/platforms","  // still using the \"object literal\" style JSON.","  this.hapLegacyTypes = hapLegacyTypes;","","  this.platformAccessory = PlatformAccessory;","}","","inherits(API, EventEmitter);","","API.prototype.accessory = function(name) {","  ","  // if you passed the \"short form\" name like \"Lockitron\" instead of \"homebridge-lockitron.Lockitron\",","  // see if it matches exactly one accessory.","  if (name.indexOf('.') == -1) {","    var found = [];","    for (var fullName in this._accessories) {","      if (fullName.split(\".\")[1] == name)","        found.push(fullName);","    }","    ","    if (found.length == 1) {","      return this._accessories[found[0]];","    }","    else if (found.length > 1) {","      throw new Error(\"The requested accessory '\" + name + \"' has been registered multiple times. Please be more specific by writing one of: \" + found.join(\", \"));","    }","    else {","      throw new Error(\"The requested accessory '\" + name + \"' was not registered by any plugin.\");","    }","  }","  else {","","    if (!this._accessories[name])","      throw new Error(\"The requested accessory '\" + name + \"' was not registered by any plugin.\");","    ","    return this._accessories[name];","  }","}","","API.prototype.registerAccessory = function(pluginName, accessoryName, constructor, configurationRequestHandler) {","  var fullName = pluginName + \".\" + accessoryName;","  ","  if (this._accessories[fullName])","    throw new Error(\"Attempting to register an accessory '\" + fullName + \"' which has already been registered!\");","","  log.info(\"Registering accessory '%s'\", fullName);","","  this._accessories[fullName] = constructor;","","  // The plugin supports configuration","  if (configurationRequestHandler) {","    this._configurableAccessories[fullName] = configurationRequestHandler;","  }","}","","API.prototype.publishCameraAccessories = function(pluginName, accessories) {","  for (var index in accessories) {","    var accessory = accessories[index];","    if (!(accessory instanceof PlatformAccessory)) {","      throw new Error(pluginName + \" attempt to register an accessory that isn\\'t PlatformAccessory!\");","    }","    accessory._associatedPlugin = pluginName;","  }","","  this.emit('publishCameraAccessories', accessories);","}","","API.prototype.platform = function(name) {","  ","  // if you passed the \"short form\" name like \"Lockitron\" instead of \"homebridge-lockitron.Lockitron\",","  // see if it matches exactly one platform.","  if (name.indexOf('.') == -1) {","    var found = [];","    for (var fullName in this._platforms) {","      if (fullName.split(\".\")[1] == name)","        found.push(fullName);","    }","    ","    if (found.length == 1) {","      return this._platforms[found[0]];","    }","    else if (found.length > 1) {","      throw new Error(\"The requested platform '\" + name + \"' has been registered multiple times. Please be more specific by writing one of: \" + found.join(\", \"));","    }","    else {","      throw new Error(\"The requested platform '\" + name + \"' was not registered by any plugin.\");","    }","  }","  else {","","    if (!this._platforms[name])","      throw new Error(\"The requested platform '\" + name + \"' was not registered by any plugin.\");","    ","    return this._platforms[name];","  }","}","","API.prototype.registerPlatform = function(pluginName, platformName, constructor, dynamic) {","  var fullName = pluginName + \".\" + platformName;","  ","  if (this._platforms[fullName])","    throw new Error(\"Attempting to register a platform '\" + fullName + \"' which has already been registered!\");","","  log.info(\"Registering platform '%s'\", fullName);","","  this._platforms[fullName] = constructor;","","  if (dynamic) {","    this._dynamicPlatforms[fullName] = constructor;","  }","}","","API.prototype.registerPlatformAccessories = function(pluginName, platformName, accessories) {","  for (var index in accessories) {","    var accessory = accessories[index];","    if (!(accessory instanceof PlatformAccessory)) {","      throw new Error(pluginName + \" - \" + platformName + \" attempt to register an accessory that isn\\'t PlatformAccessory!\");","    }","    accessory._associatedPlugin = pluginName;","    accessory._associatedPlatform = platformName;","  }","","  this.emit('registerPlatformAccessories', accessories);","}","","API.prototype.updatePlatformAccessories = function(accessories) {","  this.emit('updatePlatformAccessories', accessories);","}","","API.prototype.unregisterPlatformAccessories = function(pluginName, platformName, accessories) {","  for (var index in accessories) {","    var accessory = accessories[index];","    if (!(accessory instanceof PlatformAccessory)) {","      throw new Error(pluginName + \" - \" + platformName + \" attempt to unregister an accessory that isn\\'t PlatformAccessory!\");","    }","  }","  this.emit('unregisterPlatformAccessories', accessories);","}"],"l":{"1":2,"2":2,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"12":0,"16":1,"17":0,"18":0,"20":0,"21":0,"24":0,"27":0,"30":0,"35":0,"39":0,"41":0,"44":0,"46":0,"50":0,"51":0,"52":0,"53":0,"54":0,"57":0,"58":0,"60":0,"61":0,"64":0,"69":0,"70":0,"72":0,"76":0,"77":0,"79":0,"80":0,"82":0,"84":0,"87":0,"88":0,"92":0,"93":0,"94":0,"95":0,"96":0,"98":0,"101":0,"104":0,"108":0,"109":0,"110":0,"111":0,"112":0,"115":0,"116":0,"118":0,"119":0,"122":0,"127":0,"128":0,"130":0,"134":0,"135":0,"137":0,"138":0,"140":0,"142":0,"144":0,"145":0,"149":0,"150":0,"151":0,"152":0,"153":0,"155":0,"156":0,"159":0,"162":0,"163":0,"166":0,"167":0,"168":0,"169":0,"170":0,"173":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/bridgeSetupManager.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/bridgeSetupManager.js","s":{"1":2,"2":2,"3":2,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"BridgeSetupManager","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":30}}},"2":{"name":"(anonymous_2)","line":39,"loc":{"start":{"line":39,"column":44},"end":{"line":39,"column":72}}},"3":{"name":"(anonymous_3)","line":42,"loc":{"start":{"line":42,"column":44},"end":{"line":42,"column":82}}},"4":{"name":"(anonymous_4)","line":52,"loc":{"start":{"line":52,"column":49},"end":{"line":52,"column":77}}},"5":{"name":"(anonymous_5)","line":64,"loc":{"start":{"line":64,"column":50},"end":{"line":64,"column":85}}},"6":{"name":"(anonymous_6)","line":82,"loc":{"start":{"line":82,"column":33},"end":{"line":82,"column":71}}},"7":{"name":"(anonymous_7)","line":86,"loc":{"start":{"line":86,"column":44},"end":{"line":86,"column":63}}},"8":{"name":"(anonymous_8)","line":90,"loc":{"start":{"line":90,"column":27},"end":{"line":90,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":58}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":64}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":13}},"7":{"start":{"line":9,"column":0},"end":{"line":11,"column":1}},"8":{"start":{"line":13,"column":0},"end":{"line":48,"column":1}},"9":{"start":{"line":14,"column":2},"end":{"line":14,"column":15}},"10":{"start":{"line":16,"column":2},"end":{"line":16,"column":75}},"11":{"start":{"line":18,"column":2},"end":{"line":24,"column":5}},"12":{"start":{"line":25,"column":2},"end":{"line":25,"column":37}},"13":{"start":{"line":26,"column":2},"end":{"line":26,"column":59}},"14":{"start":{"line":28,"column":2},"end":{"line":31,"column":5}},"15":{"start":{"line":32,"column":2},"end":{"line":32,"column":43}},"16":{"start":{"line":33,"column":2},"end":{"line":33,"column":61}},"17":{"start":{"line":35,"column":2},"end":{"line":38,"column":4}},"18":{"start":{"line":39,"column":2},"end":{"line":41,"column":16}},"19":{"start":{"line":40,"column":4},"end":{"line":40,"column":46}},"20":{"start":{"line":42,"column":2},"end":{"line":44,"column":16}},"21":{"start":{"line":43,"column":4},"end":{"line":43,"column":57}},"22":{"start":{"line":46,"column":2},"end":{"line":46,"column":47}},"23":{"start":{"line":47,"column":2},"end":{"line":47,"column":66}},"24":{"start":{"line":50,"column":0},"end":{"line":50,"column":43}},"25":{"start":{"line":52,"column":0},"end":{"line":62,"column":1}},"26":{"start":{"line":53,"column":2},"end":{"line":55,"column":3}},"27":{"start":{"line":54,"column":4},"end":{"line":54,"column":11}},"28":{"start":{"line":57,"column":2},"end":{"line":61,"column":3}},"29":{"start":{"line":58,"column":4},"end":{"line":58,"column":25}},"30":{"start":{"line":60,"column":4},"end":{"line":60,"column":45}},"31":{"start":{"line":64,"column":0},"end":{"line":96,"column":1}},"32":{"start":{"line":65,"column":2},"end":{"line":68,"column":3}},"33":{"start":{"line":66,"column":4},"end":{"line":66,"column":15}},"34":{"start":{"line":67,"column":4},"end":{"line":67,"column":11}},"35":{"start":{"line":70,"column":2},"end":{"line":70,"column":41}},"36":{"start":{"line":71,"column":2},"end":{"line":71,"column":44}},"37":{"start":{"line":72,"column":2},"end":{"line":72,"column":13}},"38":{"start":{"line":74,"column":2},"end":{"line":93,"column":3}},"39":{"start":{"line":75,"column":4},"end":{"line":78,"column":5}},"40":{"start":{"line":76,"column":6},"end":{"line":76,"column":40}},"41":{"start":{"line":77,"column":6},"end":{"line":77,"column":40}},"42":{"start":{"line":80,"column":4},"end":{"line":80,"column":95}},"43":{"start":{"line":81,"column":4},"end":{"line":81,"column":80}},"44":{"start":{"line":82,"column":4},"end":{"line":84,"column":18}},"45":{"start":{"line":83,"column":6},"end":{"line":83,"column":58}},"46":{"start":{"line":86,"column":4},"end":{"line":88,"column":18}},"47":{"start":{"line":87,"column":6},"end":{"line":87,"column":50}},"48":{"start":{"line":90,"column":4},"end":{"line":92,"column":18}},"49":{"start":{"line":91,"column":6},"end":{"line":91,"column":26}},"50":{"start":{"line":95,"column":2},"end":{"line":95,"column":43}}},"branchMap":{"1":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":2},"end":{"line":53,"column":2}},{"start":{"line":53,"column":2},"end":{"line":53,"column":2}}]},"2":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":2},"end":{"line":57,"column":2}},{"start":{"line":57,"column":2},"end":{"line":57,"column":2}}]},"3":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":65,"column":2}},{"start":{"line":65,"column":2},"end":{"line":65,"column":2}}]},"4":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]},"5":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":19}},{"start":{"line":74,"column":23},"end":{"line":74,"column":63}}]},"6":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":4}},{"start":{"line":75,"column":4},"end":{"line":75,"column":4}}]}},"code":["var inherits = require('util').inherits;","var EventEmitter = require('events').EventEmitter;","var Service = require(\"hap-nodejs\").Service;","var Characteristic = require(\"hap-nodejs\").Characteristic;","var SetupSession = require(\"./bridgeSetupSession\").SetupSession;","","'use strict';","","module.exports = {","  BridgeSetupManager: BridgeSetupManager","}","","function BridgeSetupManager() {","  this.session;","","  this.service = new Service(null, \"49FB9D4D-0FEA-4BF1-8FA6-E7B18AB86DCE\");","","  this.stateCharacteristic = new Characteristic(\"State\", \"77474A2F-FA98-485E-97BE-4762458774D8\", {","    format: Characteristic.Formats.UINT8,","    minValue: 0,","    maxValue: 1,","    minStep: 1,","    perms: [Characteristic.Perms.READ, Characteristic.Perms.NOTIFY]","  });","  this.stateCharacteristic.value = 0;","  this.service.addCharacteristic(this.stateCharacteristic);","","  this.versionCharacteristic = new Characteristic(\"Version\", \"FD9FE4CC-D06F-4FFE-96C6-595D464E1026\", {","    format: Characteristic.Formats.STRING,","    perms: [Characteristic.Perms.READ, Characteristic.Perms.NOTIFY]","  });","  this.versionCharacteristic.value = \"1.0\";","  this.service.addCharacteristic(this.versionCharacteristic);","","  this.controlPointCharacteristic = new Characteristic(\"Control Point\", \"5819A4C2-E1B0-4C9D-B761-3EB1AFF43073\", {","    format: Characteristic.Formats.DATA,","    perms: [Characteristic.Perms.READ, Characteristic.Perms.WRITE, Characteristic.Perms.NOTIFY]","  })","  this.controlPointCharacteristic.on('get', function(callback, context) {","    this.handleReadRequest(callback, context);","  }.bind(this));","  this.controlPointCharacteristic.on('set', function(newValue, callback, context) {","    this.handleWriteRequest(newValue, callback, context);","  }.bind(this));","","  this.controlPointCharacteristic.value = null;","  this.service.addCharacteristic(this.controlPointCharacteristic);","}","","inherits(BridgeSetupManager, EventEmitter);","","BridgeSetupManager.prototype.handleReadRequest = function(callback, context) {","  if (!context) {","    return;","  }","","  if (!this.session) {","    callback(null, null);","  } else {","    this.session.handleReadRequest(callback);","  }","}","","BridgeSetupManager.prototype.handleWriteRequest = function(value, callback, context) {","  if (!context) {","    callback();","    return;","  }","","  var data = new Buffer(value, 'base64');","  var request = JSON.parse(data.toString());","  callback();","","  if (!this.session || this.session.sessionUUID !== request.sid) {","    if (this.session) {","      this.session.removeAllListeners();","      this.session.validSession = false;","    }","","    this.session = new SetupSession(this.stateCharacteristic, this.controlPointCharacteristic);","    this.session.configurablePlatformPlugins = this.configurablePlatformPlugins;","    this.session.on('newConfig', function(type, name, replace, config) {","      this.emit('newConfig', type, name, replace, config);","    }.bind(this));","","    this.session.on('requestCurrentConfig', function(callback) {","      this.emit('requestCurrentConfig', callback);","    }.bind(this));","","    this.session.on('end', function() {","      this.session = null;","    }.bind(this));","  }","","  this.session.handleWriteRequest(request);","}"],"l":{"1":2,"2":2,"3":2,"4":0,"5":0,"7":0,"9":0,"13":1,"14":0,"16":0,"18":0,"25":0,"26":0,"28":0,"32":0,"33":0,"35":0,"39":0,"40":0,"42":0,"43":0,"46":0,"47":0,"50":0,"52":0,"53":0,"54":0,"57":0,"58":0,"60":0,"64":0,"65":0,"66":0,"67":0,"70":0,"71":0,"72":0,"74":0,"75":0,"76":0,"77":0,"80":0,"81":0,"82":0,"83":0,"86":0,"87":0,"90":0,"91":0,"95":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/bridgeSetupSession.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/bridgeSetupSession.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"BridgeSetupSession","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":52}}},"2":{"name":"(anonymous_2)","line":37,"loc":{"start":{"line":37,"column":50},"end":{"line":37,"column":68}}},"3":{"name":"(anonymous_3)","line":96,"loc":{"start":{"line":96,"column":53},"end":{"line":96,"column":95}}},"4":{"name":"(anonymous_4)","line":109,"loc":{"start":{"line":109,"column":47},"end":{"line":109,"column":58}}},"5":{"name":"(anonymous_5)","line":129,"loc":{"start":{"line":129,"column":57},"end":{"line":129,"column":68}}},"6":{"name":"(anonymous_6)","line":152,"loc":{"start":{"line":152,"column":58},"end":{"line":152,"column":69}}},"7":{"name":"(anonymous_7)","line":153,"loc":{"start":{"line":153,"column":36},"end":{"line":153,"column":53}}},"8":{"name":"(anonymous_8)","line":174,"loc":{"start":{"line":174,"column":53},"end":{"line":174,"column":71}}},"9":{"name":"(anonymous_9)","line":178,"loc":{"start":{"line":178,"column":44},"end":{"line":178,"column":63}}},"10":{"name":"(anonymous_10)","line":183,"loc":{"start":{"line":183,"column":15},"end":{"line":183,"column":26}}},"11":{"name":"(anonymous_11)","line":189,"loc":{"start":{"line":189,"column":49},"end":{"line":189,"column":68}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":13}},"6":{"start":{"line":8,"column":0},"end":{"line":10,"column":1}},"7":{"start":{"line":12,"column":0},"end":{"line":33,"column":1}},"8":{"start":{"line":13,"column":2},"end":{"line":13,"column":27}},"9":{"start":{"line":14,"column":2},"end":{"line":14,"column":59}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":29}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":33}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":25}},"13":{"start":{"line":19,"column":2},"end":{"line":19,"column":34}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":27}},"15":{"start":{"line":28,"column":2},"end":{"line":28,"column":24}},"16":{"start":{"line":30,"column":2},"end":{"line":30,"column":25}},"17":{"start":{"line":31,"column":2},"end":{"line":31,"column":31}},"18":{"start":{"line":32,"column":2},"end":{"line":32,"column":35}},"19":{"start":{"line":35,"column":0},"end":{"line":35,"column":43}},"20":{"start":{"line":37,"column":0},"end":{"line":94,"column":1}},"21":{"start":{"line":38,"column":2},"end":{"line":93,"column":3}},"22":{"start":{"line":39,"column":4},"end":{"line":39,"column":41}},"23":{"start":{"line":40,"column":4},"end":{"line":40,"column":45}},"24":{"start":{"line":41,"column":4},"end":{"line":41,"column":28}},"25":{"start":{"line":43,"column":4},"end":{"line":56,"column":5}},"26":{"start":{"line":58,"column":4},"end":{"line":58,"column":26}},"27":{"start":{"line":60,"column":4},"end":{"line":60,"column":32}},"28":{"start":{"line":61,"column":9},"end":{"line":93,"column":3}},"29":{"start":{"line":62,"column":4},"end":{"line":62,"column":37}},"30":{"start":{"line":64,"column":4},"end":{"line":85,"column":5}},"31":{"start":{"line":65,"column":6},"end":{"line":69,"column":7}},"32":{"start":{"line":66,"column":8},"end":{"line":66,"column":41}},"33":{"start":{"line":67,"column":13},"end":{"line":69,"column":7}},"34":{"start":{"line":68,"column":8},"end":{"line":68,"column":42}},"35":{"start":{"line":70,"column":11},"end":{"line":85,"column":5}},"36":{"start":{"line":71,"column":6},"end":{"line":71,"column":57}},"37":{"start":{"line":72,"column":6},"end":{"line":72,"column":67}},"38":{"start":{"line":73,"column":6},"end":{"line":73,"column":80}},"39":{"start":{"line":75,"column":6},"end":{"line":75,"column":39}},"40":{"start":{"line":76,"column":6},"end":{"line":76,"column":75}},"41":{"start":{"line":77,"column":6},"end":{"line":77,"column":50}},"42":{"start":{"line":78,"column":6},"end":{"line":78,"column":52}},"43":{"start":{"line":79,"column":6},"end":{"line":79,"column":28}},"44":{"start":{"line":80,"column":6},"end":{"line":80,"column":137}},"45":{"start":{"line":81,"column":11},"end":{"line":85,"column":5}},"46":{"start":{"line":82,"column":6},"end":{"line":82,"column":140}},"47":{"start":{"line":83,"column":11},"end":{"line":85,"column":5}},"48":{"start":{"line":84,"column":6},"end":{"line":84,"column":42}},"49":{"start":{"line":86,"column":9},"end":{"line":93,"column":3}},"50":{"start":{"line":87,"column":4},"end":{"line":87,"column":37}},"51":{"start":{"line":88,"column":4},"end":{"line":88,"column":30}},"52":{"start":{"line":90,"column":4},"end":{"line":92,"column":5}},"53":{"start":{"line":91,"column":6},"end":{"line":91,"column":140}},"54":{"start":{"line":96,"column":0},"end":{"line":107,"column":1}},"55":{"start":{"line":97,"column":2},"end":{"line":106,"column":3}},"56":{"start":{"line":98,"column":4},"end":{"line":98,"column":74}},"57":{"start":{"line":99,"column":4},"end":{"line":99,"column":27}},"58":{"start":{"line":100,"column":9},"end":{"line":106,"column":3}},"59":{"start":{"line":101,"column":4},"end":{"line":101,"column":28}},"60":{"start":{"line":102,"column":4},"end":{"line":102,"column":38}},"61":{"start":{"line":103,"column":4},"end":{"line":103,"column":36}},"62":{"start":{"line":105,"column":4},"end":{"line":105,"column":32}},"63":{"start":{"line":109,"column":0},"end":{"line":127,"column":1}},"64":{"start":{"line":110,"column":2},"end":{"line":110,"column":24}},"65":{"start":{"line":112,"column":2},"end":{"line":112,"column":26}},"66":{"start":{"line":114,"column":2},"end":{"line":124,"column":3}},"67":{"start":{"line":126,"column":2},"end":{"line":126,"column":30}},"68":{"start":{"line":129,"column":0},"end":{"line":150,"column":1}},"69":{"start":{"line":130,"column":2},"end":{"line":130,"column":27}},"70":{"start":{"line":131,"column":2},"end":{"line":133,"column":3}},"71":{"start":{"line":132,"column":4},"end":{"line":132,"column":31}},"72":{"start":{"line":134,"column":2},"end":{"line":134,"column":41}},"73":{"start":{"line":136,"column":2},"end":{"line":136,"column":26}},"74":{"start":{"line":138,"column":2},"end":{"line":145,"column":3}},"75":{"start":{"line":147,"column":2},"end":{"line":147,"column":24}},"76":{"start":{"line":149,"column":2},"end":{"line":149,"column":30}},"77":{"start":{"line":152,"column":0},"end":{"line":172,"column":1}},"78":{"start":{"line":153,"column":2},"end":{"line":155,"column":16}},"79":{"start":{"line":154,"column":4},"end":{"line":154,"column":32}},"80":{"start":{"line":157,"column":2},"end":{"line":157,"column":26}},"81":{"start":{"line":159,"column":2},"end":{"line":168,"column":3}},"82":{"start":{"line":170,"column":2},"end":{"line":170,"column":24}},"83":{"start":{"line":171,"column":2},"end":{"line":171,"column":30}},"84":{"start":{"line":174,"column":0},"end":{"line":176,"column":1}},"85":{"start":{"line":175,"column":2},"end":{"line":175,"column":25}},"86":{"start":{"line":178,"column":0},"end":{"line":187,"column":1}},"87":{"start":{"line":179,"column":2},"end":{"line":186,"column":3}},"88":{"start":{"line":180,"column":4},"end":{"line":180,"column":53}},"89":{"start":{"line":181,"column":4},"end":{"line":181,"column":68}},"90":{"start":{"line":182,"column":4},"end":{"line":182,"column":33}},"91":{"start":{"line":183,"column":4},"end":{"line":185,"column":23}},"92":{"start":{"line":184,"column":6},"end":{"line":184,"column":42}},"93":{"start":{"line":189,"column":0},"end":{"line":191,"column":1}},"94":{"start":{"line":190,"column":2},"end":{"line":190,"column":36}}},"branchMap":{"1":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"2":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":9},"end":{"line":61,"column":9}},{"start":{"line":61,"column":9},"end":{"line":61,"column":9}}]},"3":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"4":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":6},"end":{"line":65,"column":6}},{"start":{"line":65,"column":6},"end":{"line":65,"column":6}}]},"5":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":13},"end":{"line":67,"column":13}},{"start":{"line":67,"column":13},"end":{"line":67,"column":13}}]},"6":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":11},"end":{"line":70,"column":11}},{"start":{"line":70,"column":11},"end":{"line":70,"column":11}}]},"7":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":11},"end":{"line":81,"column":11}},{"start":{"line":81,"column":11},"end":{"line":81,"column":11}}]},"8":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":11},"end":{"line":83,"column":11}},{"start":{"line":83,"column":11},"end":{"line":83,"column":11}}]},"9":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":9},"end":{"line":86,"column":9}},{"start":{"line":86,"column":9},"end":{"line":86,"column":9}}]},"10":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":4},"end":{"line":90,"column":4}},{"start":{"line":90,"column":4},"end":{"line":90,"column":4}}]},"11":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":2},"end":{"line":97,"column":2}},{"start":{"line":97,"column":2},"end":{"line":97,"column":2}}]},"12":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":9},"end":{"line":100,"column":9}},{"start":{"line":100,"column":9},"end":{"line":100,"column":9}}]},"13":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":2},"end":{"line":179,"column":2}},{"start":{"line":179,"column":2},"end":{"line":179,"column":2}}]}},"code":["var crypto = require('crypto');","var uuid = require(\"hap-nodejs\").uuid;","var inherits = require('util').inherits;","var EventEmitter = require('events').EventEmitter;","","'use strict';","","module.exports = {","  SetupSession: BridgeSetupSession","}","","function BridgeSetupSession(stateChar, controlChar) {","  this.validSession = false","  this.sessionUUID = uuid.generate(crypto.randomBytes(32));","  this.stateChar = stateChar;","  this.controlChar = controlChar;","","  this.transactionID = 0;","  this.preferedLanguage = \"en-US\";","","  this.lastResponse = null;","","  // 0 - Waiting for negotiate","  // 1 - Waiting for selection","  // 2 - List platforms, waiting selection to give session to plugin","  // 3 - Forward message to platform","  // 4 - Manage accessory config, waiting selection","  this.currentStage = 0;","","  this.currentPluginName;","  this.currentPlatformInstance;","  this.currentPlatformContext = {};","}","","inherits(BridgeSetupSession, EventEmitter);","","BridgeSetupSession.prototype.handleWriteRequest = function(request) {","  if (request.type === \"Negotiate\") {","    this.transactionID = request.tid + 1;","    this.preferedLanguage = request.language;","    this.validSession = true","","    var respDict = {","      \"tid\": this.transactionID,","      \"type\": \"Negotiate\",","      \"sid\": this.sessionUUID,","      \"attachment\": {","        \"type\": \"Interface\",","        \"interface\": \"list\",","        \"title\": \"How can I help you?\",","        \"items\": [","          \"Manage Platform\",","          \"Manage Accessories\"","        ]","      }","    }","","    this.currentStage = 1;","","    this.sendResponse(respDict);","  } else if (request.type === \"Interface\") {","    this.transactionID = request.tid;","","    if (this.currentStage === 1) {","      if (request.response.selections[0] === 0) {","        this.presentManagePlatformMenu();","      } else if (request.response.selections[0] === 1) {","        this.presentManageAccessoryMenu();","      }","    } else if (this.currentStage === 2) {","      var selectedIndex = request.response.selections[0];","      var targetPlatformName = this.listOfPlatforms[selectedIndex];","      var targetPlatform = this.configurablePlatformPlugins[targetPlatformName];","","      this.currentPlatformContext = {};","      this.currentPlatformContext.preferedLanguage = this.preferedLanguage;","      this.currentPluginName = targetPlatformName;","      this.currentPlatformInstance = targetPlatform;","      this.currentStage = 3;","      this.currentPlatformInstance.configurationRequestHandler(this.currentPlatformContext, null, this.pluginResponseHandler.bind(this));","    } else if (this.currentStage === 3) {","      this.currentPlatformInstance.configurationRequestHandler(this.currentPlatformContext, request, this.pluginResponseHandler.bind(this));","    } else if (this.currentStage === 4) {","      this.handleManageAccessory(request);","    }","  } else if (request.type === \"Terminate\") {","    this.transactionID = request.tid;","    this.validSession = false;","","    if (this.currentStage === 3) {","      this.currentPlatformInstance.configurationRequestHandler(this.currentPlatformContext, request, this.pluginResponseHandler.bind(this));","    }","  }","}","","BridgeSetupSession.prototype.pluginResponseHandler = function(response, type, replace, config) {","  if (config) {","    this.emit('newConfig', type, this.currentPluginName, replace, config);","    this.presentMainMenu();","  } else if (response) {","    this.transactionID += 1;","    response.tid = this.transactionID;","    response.sid = this.sessionUUID;","","    this.sendResponse(response);","  }","}","","BridgeSetupSession.prototype.presentMainMenu = function() {","  this.currentStage = 1;","","  this.transactionID += 1;","","  var respDict = {","    \"tid\": this.transactionID,","    \"sid\": this.sessionUUID,","    \"type\": \"Interface\",","    \"interface\": \"list\",","    \"title\": \"How can I help you?\",","    \"items\": [","      \"Manage Platform\",","      \"Manage Accessories\"","    ]","  }","","  this.sendResponse(respDict);","}","","BridgeSetupSession.prototype.presentManagePlatformMenu = function() {","  var listOfPlatforms = [];","  for (var name in this.configurablePlatformPlugins) {","    listOfPlatforms.push(name);","  }","  this.listOfPlatforms = listOfPlatforms;","","  this.transactionID += 1;","","  var respDict = {","    \"tid\": this.transactionID,","    \"type\": \"Interface\",","    \"sid\": this.sessionUUID,","    \"interface\": \"list\",","    \"title\": \"Which platform?\",","    \"items\": listOfPlatforms","  }","","  this.currentStage = 2;","","  this.sendResponse(respDict);","}","","BridgeSetupSession.prototype.presentManageAccessoryMenu = function() {","  this.emit('requestCurrentConfig', function(config) {","    this.currentConfig = config;","  }.bind(this));","","  this.transactionID += 1;","","  var respDict = {","    \"tid\": this.transactionID,","    \"type\": \"Interface\",","    \"sid\": this.sessionUUID,","    \"interface\": \"instruction\",","    \"title\": \"Not Implemented\",","    \"detail\": \"This function is not yet implemented.\\nPlease manually edit config.json for now.\",","    \"showNextButton\": true,","    \"heroImage\": \"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\"","  }","","  this.currentStage = 4;","  this.sendResponse(respDict);","}","","BridgeSetupSession.prototype.handleManageAccessory = function(request) {","  this.presentMainMenu();","}","","BridgeSetupSession.prototype.sendResponse = function(response) {","  if (this.validSession) {","    var serializedReponse = JSON.stringify(response);","    var respData = new Buffer(serializedReponse).toString('base64');","    this.lastResponse = respData;","    setTimeout(function() {","      this.controlChar.setValue(respData);","    }.bind(this), 100);","  }","}","","BridgeSetupSession.prototype.handleReadRequest = function(callback) {","  callback(null, this.lastResponse);","}"],"l":{"1":2,"2":2,"3":0,"4":0,"6":0,"8":0,"12":1,"13":0,"14":0,"15":0,"16":0,"18":0,"19":0,"21":0,"28":0,"30":0,"31":0,"32":0,"35":0,"37":0,"38":0,"39":0,"40":0,"41":0,"43":0,"58":0,"60":0,"61":0,"62":0,"64":0,"65":0,"66":0,"67":0,"68":0,"70":0,"71":0,"72":0,"73":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"86":0,"87":0,"88":0,"90":0,"91":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"105":0,"109":0,"110":0,"112":0,"114":0,"126":0,"129":0,"130":0,"131":0,"132":0,"134":0,"136":0,"138":0,"147":0,"149":0,"152":0,"153":0,"154":0,"157":0,"159":0,"170":0,"171":0,"174":0,"175":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"189":0,"190":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/logger.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/logger.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"setDebugEnabled","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":34}}},"2":{"name":"Logger","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":26,"column":24}}},"3":{"name":"(anonymous_3)","line":30,"loc":{"start":{"line":30,"column":25},"end":{"line":30,"column":39}}},"4":{"name":"(anonymous_4)","line":35,"loc":{"start":{"line":35,"column":24},"end":{"line":35,"column":38}}},"5":{"name":"(anonymous_5)","line":39,"loc":{"start":{"line":39,"column":24},"end":{"line":39,"column":38}}},"6":{"name":"(anonymous_6)","line":43,"loc":{"start":{"line":43,"column":25},"end":{"line":43,"column":39}}},"7":{"name":"(anonymous_7)","line":47,"loc":{"start":{"line":47,"column":23},"end":{"line":47,"column":44}}},"8":{"name":"(anonymous_8)","line":75,"loc":{"start":{"line":75,"column":20},"end":{"line":75,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":13}},"4":{"start":{"line":6,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":26}},"6":{"start":{"line":15,"column":0},"end":{"line":17,"column":1}},"7":{"start":{"line":16,"column":2},"end":{"line":16,"column":26}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":21}},"9":{"start":{"line":26,"column":0},"end":{"line":28,"column":1}},"10":{"start":{"line":27,"column":2},"end":{"line":27,"column":23}},"11":{"start":{"line":30,"column":0},"end":{"line":33,"column":1}},"12":{"start":{"line":31,"column":2},"end":{"line":32,"column":82}},"13":{"start":{"line":32,"column":4},"end":{"line":32,"column":82}},"14":{"start":{"line":35,"column":0},"end":{"line":37,"column":1}},"15":{"start":{"line":36,"column":2},"end":{"line":36,"column":79}},"16":{"start":{"line":39,"column":0},"end":{"line":41,"column":1}},"17":{"start":{"line":40,"column":2},"end":{"line":40,"column":79}},"18":{"start":{"line":43,"column":0},"end":{"line":45,"column":1}},"19":{"start":{"line":44,"column":2},"end":{"line":44,"column":80}},"20":{"start":{"line":47,"column":0},"end":{"line":73,"column":1}},"21":{"start":{"line":49,"column":2},"end":{"line":49,"column":74}},"22":{"start":{"line":50,"column":2},"end":{"line":50,"column":21}},"23":{"start":{"line":52,"column":2},"end":{"line":62,"column":3}},"24":{"start":{"line":53,"column":4},"end":{"line":53,"column":26}},"25":{"start":{"line":55,"column":7},"end":{"line":62,"column":3}},"26":{"start":{"line":56,"column":4},"end":{"line":56,"column":28}},"27":{"start":{"line":57,"column":4},"end":{"line":57,"column":25}},"28":{"start":{"line":59,"column":7},"end":{"line":62,"column":3}},"29":{"start":{"line":60,"column":4},"end":{"line":60,"column":30}},"30":{"start":{"line":61,"column":4},"end":{"line":61,"column":25}},"31":{"start":{"line":65,"column":2},"end":{"line":66,"column":59}},"32":{"start":{"line":66,"column":4},"end":{"line":66,"column":59}},"33":{"start":{"line":69,"column":2},"end":{"line":69,"column":24}},"34":{"start":{"line":70,"column":2},"end":{"line":70,"column":68}},"35":{"start":{"line":72,"column":2},"end":{"line":72,"column":12}},"36":{"start":{"line":75,"column":0},"end":{"line":92,"column":1}},"37":{"start":{"line":77,"column":2},"end":{"line":89,"column":3}},"38":{"start":{"line":80,"column":4},"end":{"line":80,"column":36}},"39":{"start":{"line":81,"column":4},"end":{"line":81,"column":39}},"40":{"start":{"line":82,"column":4},"end":{"line":82,"column":29}},"41":{"start":{"line":83,"column":4},"end":{"line":83,"column":27}},"42":{"start":{"line":84,"column":4},"end":{"line":84,"column":27}},"43":{"start":{"line":85,"column":4},"end":{"line":85,"column":29}},"44":{"start":{"line":86,"column":4},"end":{"line":86,"column":25}},"45":{"start":{"line":87,"column":4},"end":{"line":87,"column":31}},"46":{"start":{"line":88,"column":4},"end":{"line":88,"column":30}},"47":{"start":{"line":91,"column":2},"end":{"line":91,"column":29}}},"branchMap":{"1":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":2},"end":{"line":31,"column":2}},{"start":{"line":31,"column":2},"end":{"line":31,"column":2}}]},"2":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":2},"end":{"line":52,"column":2}},{"start":{"line":52,"column":2},"end":{"line":52,"column":2}}]},"3":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":7},"end":{"line":55,"column":7}},{"start":{"line":55,"column":7},"end":{"line":55,"column":7}}]},"4":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":7},"end":{"line":59,"column":7}},{"start":{"line":59,"column":7},"end":{"line":59,"column":7}}]},"5":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":65,"column":2}},{"start":{"line":65,"column":2},"end":{"line":65,"column":2}}]},"6":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":2},"end":{"line":77,"column":2}},{"start":{"line":77,"column":2},"end":{"line":77,"column":2}}]}},"code":["var chalk = require('chalk');","var util = require('util');","","'use strict';","","module.exports = {","  Logger: Logger,","  setDebugEnabled: setDebugEnabled,","  _system: new Logger() // system logger, for internal use only","}","","var DEBUG_ENABLED = false;","","// Turns on debug level logging","function setDebugEnabled(enabled) {","  DEBUG_ENABLED = enabled;","}","","// global cache of logger instances by plugin name","var loggerCache = {};","","/**"," * Logger class"," */","","function Logger(prefix) {","  this.prefix = prefix;","}","","Logger.prototype.debug = function(msg) {","  if (DEBUG_ENABLED)","    this.log.apply(this, ['debug'].concat(Array.prototype.slice.call(arguments)));","}","","Logger.prototype.info = function(msg) {","  this.log.apply(this, ['info'].concat(Array.prototype.slice.call(arguments)));","}","","Logger.prototype.warn = function(msg) {","  this.log.apply(this, ['warn'].concat(Array.prototype.slice.call(arguments)));","}","","Logger.prototype.error = function(msg) {","  this.log.apply(this, ['error'].concat(Array.prototype.slice.call(arguments)));","}","","Logger.prototype.log = function(level, msg) {","","  msg = util.format.apply(util, Array.prototype.slice.call(arguments, 1));","  func = console.log;","","  if (level == 'debug') {","    msg = chalk.gray(msg);","  }","  else if (level == 'warn') {","    msg = chalk.yellow(msg);","    func = console.error;","  }","  else if (level == 'error') {","    msg = chalk.bold.red(msg);","    func = console.error;","  }","","  // prepend prefix if applicable","  if (this.prefix)","    msg = chalk.cyan(\"[\" + this.prefix +  \"]\") + \" \" + msg;","","  // prepend timestamp","  var date = new Date();","  msg =  chalk.white(\"[\" + date.toLocaleString() + \"]\") + \" \" + msg;","","  func(msg);","}","","Logger.withPrefix = function(prefix) {","","  if (!loggerCache[prefix]) {","    // create a class-like logger thing that acts as a function as well","    // as an instance of Logger.","    var logger = new Logger(prefix);","    var log = logger.info.bind(logger);","    log.debug = logger.debug;","    log.info = logger.info;","    log.warn = logger.warn;","    log.error = logger.error;","    log.log = logger.log;","    log.prefix = logger.prefix;","    loggerCache[prefix] = log;","  }","","  return loggerCache[prefix];","}",""],"l":{"1":1,"2":1,"4":1,"6":1,"12":1,"15":1,"16":0,"20":1,"26":1,"27":1,"30":1,"31":0,"32":0,"35":1,"36":0,"39":1,"40":0,"43":1,"44":0,"47":1,"49":0,"50":0,"52":0,"53":0,"55":0,"56":0,"57":0,"59":0,"60":0,"61":0,"65":0,"66":0,"69":0,"70":0,"72":0,"75":1,"77":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"91":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/platformAccessory.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/platformAccessory.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0,0,0],"19":[0,0],"20":[0,0,0,0],"21":[0,0],"22":[0,0],"23":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"PlatformAccessory","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":56}}},"2":{"name":"(anonymous_2)","line":40,"loc":{"start":{"line":40,"column":41},"end":{"line":40,"column":59}}},"3":{"name":"(anonymous_3)","line":67,"loc":{"start":{"line":67,"column":44},"end":{"line":67,"column":62}}},"4":{"name":"(anonymous_4)","line":95,"loc":{"start":{"line":95,"column":41},"end":{"line":95,"column":56}}},"5":{"name":"(anonymous_5)","line":113,"loc":{"start":{"line":113,"column":57},"end":{"line":113,"column":81}}},"6":{"name":"(anonymous_6)","line":125,"loc":{"start":{"line":125,"column":49},"end":{"line":125,"column":69}}},"7":{"name":"(anonymous_7)","line":133,"loc":{"start":{"line":133,"column":52},"end":{"line":133,"column":75}}},"8":{"name":"(anonymous_8)","line":141,"loc":{"start":{"line":141,"column":61},"end":{"line":141,"column":73}}},"9":{"name":"(anonymous_9)","line":151,"loc":{"start":{"line":151,"column":46},"end":{"line":151,"column":73}}},"10":{"name":"(anonymous_10)","line":162,"loc":{"start":{"line":162,"column":54},"end":{"line":162,"column":65}}},"11":{"name":"(anonymous_11)","line":200,"loc":{"start":{"line":200,"column":46},"end":{"line":200,"column":61}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":58}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":50}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":13}},"8":{"start":{"line":10,"column":0},"end":{"line":12,"column":1}},"9":{"start":{"line":14,"column":0},"end":{"line":36,"column":1}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":97}},"11":{"start":{"line":15,"column":20},"end":{"line":15,"column":97}},"12":{"start":{"line":16,"column":2},"end":{"line":16,"column":79}},"13":{"start":{"line":16,"column":13},"end":{"line":16,"column":79}},"14":{"start":{"line":17,"column":2},"end":{"line":17,"column":206}},"15":{"start":{"line":17,"column":27},"end":{"line":17,"column":206}},"16":{"start":{"line":19,"column":2},"end":{"line":19,"column":33}},"17":{"start":{"line":20,"column":2},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":2},"end":{"line":21,"column":57}},"19":{"start":{"line":22,"column":2},"end":{"line":22,"column":21}},"20":{"start":{"line":23,"column":2},"end":{"line":23,"column":25}},"21":{"start":{"line":24,"column":2},"end":{"line":24,"column":20}},"22":{"start":{"line":26,"column":2},"end":{"line":26,"column":25}},"23":{"start":{"line":27,"column":2},"end":{"line":27,"column":27}},"24":{"start":{"line":28,"column":2},"end":{"line":28,"column":31}},"25":{"start":{"line":30,"column":2},"end":{"line":35,"column":76}},"26":{"start":{"line":38,"column":0},"end":{"line":38,"column":42}},"27":{"start":{"line":40,"column":0},"end":{"line":65,"column":1}},"28":{"start":{"line":43,"column":2},"end":{"line":44,"column":70}},"29":{"start":{"line":44,"column":4},"end":{"line":44,"column":70}},"30":{"start":{"line":47,"column":2},"end":{"line":57,"column":3}},"31":{"start":{"line":48,"column":4},"end":{"line":48,"column":40}},"32":{"start":{"line":49,"column":4},"end":{"line":56,"column":5}},"33":{"start":{"line":51,"column":6},"end":{"line":52,"column":179}},"34":{"start":{"line":52,"column":8},"end":{"line":52,"column":179}},"35":{"start":{"line":54,"column":6},"end":{"line":55,"column":168}},"36":{"start":{"line":55,"column":8},"end":{"line":55,"column":168}},"37":{"start":{"line":59,"column":2},"end":{"line":59,"column":30}},"38":{"start":{"line":61,"column":2},"end":{"line":63,"column":3}},"39":{"start":{"line":62,"column":4},"end":{"line":62,"column":53}},"40":{"start":{"line":64,"column":2},"end":{"line":64,"column":17}},"41":{"start":{"line":67,"column":0},"end":{"line":87,"column":1}},"42":{"start":{"line":68,"column":2},"end":{"line":68,"column":25}},"43":{"start":{"line":70,"column":2},"end":{"line":77,"column":3}},"44":{"start":{"line":71,"column":4},"end":{"line":71,"column":47}},"45":{"start":{"line":73,"column":4},"end":{"line":76,"column":5}},"46":{"start":{"line":74,"column":6},"end":{"line":74,"column":33}},"47":{"start":{"line":75,"column":6},"end":{"line":75,"column":12}},"48":{"start":{"line":79,"column":2},"end":{"line":86,"column":3}},"49":{"start":{"line":80,"column":4},"end":{"line":80,"column":48}},"50":{"start":{"line":81,"column":4},"end":{"line":81,"column":33}},"51":{"start":{"line":83,"column":4},"end":{"line":85,"column":5}},"52":{"start":{"line":84,"column":6},"end":{"line":84,"column":58}},"53":{"start":{"line":95,"column":0},"end":{"line":104,"column":1}},"54":{"start":{"line":96,"column":2},"end":{"line":103,"column":3}},"55":{"start":{"line":97,"column":4},"end":{"line":97,"column":39}},"56":{"start":{"line":99,"column":4},"end":{"line":102,"column":21}},"57":{"start":{"line":100,"column":6},"end":{"line":100,"column":21}},"58":{"start":{"line":101,"column":9},"end":{"line":102,"column":21}},"59":{"start":{"line":102,"column":6},"end":{"line":102,"column":21}},"60":{"start":{"line":113,"column":0},"end":{"line":122,"column":1}},"61":{"start":{"line":114,"column":2},"end":{"line":121,"column":3}},"62":{"start":{"line":115,"column":4},"end":{"line":115,"column":39}},"63":{"start":{"line":117,"column":4},"end":{"line":120,"column":21}},"64":{"start":{"line":118,"column":6},"end":{"line":118,"column":21}},"65":{"start":{"line":119,"column":9},"end":{"line":120,"column":21}},"66":{"start":{"line":120,"column":6},"end":{"line":120,"column":21}},"67":{"start":{"line":125,"column":0},"end":{"line":131,"column":1}},"68":{"start":{"line":126,"column":2},"end":{"line":126,"column":29}},"69":{"start":{"line":128,"column":2},"end":{"line":130,"column":3}},"70":{"start":{"line":129,"column":4},"end":{"line":129,"column":63}},"71":{"start":{"line":133,"column":0},"end":{"line":139,"column":1}},"72":{"start":{"line":134,"column":2},"end":{"line":134,"column":35}},"73":{"start":{"line":135,"column":2},"end":{"line":138,"column":3}},"74":{"start":{"line":136,"column":4},"end":{"line":136,"column":47}},"75":{"start":{"line":137,"column":4},"end":{"line":137,"column":29}},"76":{"start":{"line":141,"column":0},"end":{"line":160,"column":1}},"77":{"start":{"line":142,"column":2},"end":{"line":142,"column":76}},"78":{"start":{"line":144,"column":2},"end":{"line":146,"column":3}},"79":{"start":{"line":145,"column":4},"end":{"line":145,"column":74}},"80":{"start":{"line":148,"column":2},"end":{"line":148,"column":64}},"81":{"start":{"line":149,"column":2},"end":{"line":149,"column":56}},"82":{"start":{"line":150,"column":2},"end":{"line":150,"column":58}},"83":{"start":{"line":151,"column":2},"end":{"line":159,"column":16}},"84":{"start":{"line":152,"column":4},"end":{"line":158,"column":5}},"85":{"start":{"line":155,"column":6},"end":{"line":155,"column":46}},"86":{"start":{"line":157,"column":6},"end":{"line":157,"column":17}},"87":{"start":{"line":162,"column":0},"end":{"line":198,"column":1}},"88":{"start":{"line":163,"column":2},"end":{"line":163,"column":21}},"89":{"start":{"line":165,"column":2},"end":{"line":165,"column":44}},"90":{"start":{"line":166,"column":2},"end":{"line":166,"column":48}},"91":{"start":{"line":167,"column":2},"end":{"line":167,"column":43}},"92":{"start":{"line":168,"column":2},"end":{"line":168,"column":29}},"93":{"start":{"line":169,"column":2},"end":{"line":169,"column":37}},"94":{"start":{"line":170,"column":2},"end":{"line":170,"column":35}},"95":{"start":{"line":172,"column":2},"end":{"line":172,"column":20}},"96":{"start":{"line":173,"column":2},"end":{"line":194,"column":3}},"97":{"start":{"line":174,"column":4},"end":{"line":174,"column":39}},"98":{"start":{"line":175,"column":4},"end":{"line":175,"column":33}},"99":{"start":{"line":176,"column":4},"end":{"line":176,"column":58}},"100":{"start":{"line":177,"column":4},"end":{"line":177,"column":44}},"101":{"start":{"line":178,"column":4},"end":{"line":178,"column":50}},"102":{"start":{"line":180,"column":4},"end":{"line":180,"column":29}},"103":{"start":{"line":181,"column":4},"end":{"line":190,"column":5}},"104":{"start":{"line":182,"column":6},"end":{"line":182,"column":59}},"105":{"start":{"line":183,"column":6},"end":{"line":183,"column":42}},"106":{"start":{"line":184,"column":6},"end":{"line":184,"column":74}},"107":{"start":{"line":185,"column":6},"end":{"line":185,"column":60}},"108":{"start":{"line":186,"column":6},"end":{"line":186,"column":62}},"109":{"start":{"line":187,"column":6},"end":{"line":187,"column":62}},"110":{"start":{"line":188,"column":6},"end":{"line":188,"column":98}},"111":{"start":{"line":189,"column":6},"end":{"line":189,"column":55}},"112":{"start":{"line":192,"column":4},"end":{"line":192,"column":58}},"113":{"start":{"line":193,"column":4},"end":{"line":193,"column":39}},"114":{"start":{"line":196,"column":2},"end":{"line":196,"column":32}},"115":{"start":{"line":197,"column":2},"end":{"line":197,"column":19}},"116":{"start":{"line":200,"column":0},"end":{"line":228,"column":1}},"117":{"start":{"line":201,"column":2},"end":{"line":201,"column":39}},"118":{"start":{"line":202,"column":2},"end":{"line":202,"column":43}},"119":{"start":{"line":203,"column":2},"end":{"line":203,"column":38}},"120":{"start":{"line":204,"column":2},"end":{"line":204,"column":24}},"121":{"start":{"line":205,"column":2},"end":{"line":205,"column":32}},"122":{"start":{"line":206,"column":2},"end":{"line":206,"column":30}},"123":{"start":{"line":207,"column":2},"end":{"line":207,"column":25}},"124":{"start":{"line":209,"column":2},"end":{"line":209,"column":20}},"125":{"start":{"line":210,"column":2},"end":{"line":225,"column":3}},"126":{"start":{"line":211,"column":4},"end":{"line":211,"column":39}},"127":{"start":{"line":212,"column":4},"end":{"line":212,"column":85}},"128":{"start":{"line":214,"column":4},"end":{"line":214,"column":29}},"129":{"start":{"line":215,"column":4},"end":{"line":221,"column":5}},"130":{"start":{"line":216,"column":6},"end":{"line":216,"column":59}},"131":{"start":{"line":217,"column":6},"end":{"line":217,"column":120}},"132":{"start":{"line":218,"column":6},"end":{"line":218,"column":89}},"133":{"start":{"line":219,"column":6},"end":{"line":219,"column":53}},"134":{"start":{"line":220,"column":6},"end":{"line":220,"column":46}},"135":{"start":{"line":223,"column":4},"end":{"line":223,"column":57}},"136":{"start":{"line":224,"column":4},"end":{"line":224,"column":30}},"137":{"start":{"line":227,"column":2},"end":{"line":227,"column":27}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":16,"column":2}},{"start":{"line":16,"column":2},"end":{"line":16,"column":2}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"4":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":18},"end":{"line":21,"column":26}},{"start":{"line":21,"column":30},"end":{"line":21,"column":56}}]},"5":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":2},"end":{"line":43,"column":2}},{"start":{"line":43,"column":2},"end":{"line":43,"column":2}}]},"6":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"7":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":6},"end":{"line":51,"column":6}},{"start":{"line":51,"column":6},"end":{"line":51,"column":6}}]},"8":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":6}},{"start":{"line":54,"column":6},"end":{"line":54,"column":6}}]},"9":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":2},"end":{"line":61,"column":2}},{"start":{"line":61,"column":2},"end":{"line":61,"column":2}}]},"10":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]},"11":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":2},"end":{"line":79,"column":2}},{"start":{"line":79,"column":2},"end":{"line":79,"column":2}}]},"12":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":4}},{"start":{"line":83,"column":4},"end":{"line":83,"column":4}}]},"13":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]},"14":{"line":99,"type":"binary-expr","locations":[{"start":{"line":99,"column":8},"end":{"line":99,"column":32}},{"start":{"line":99,"column":37},"end":{"line":99,"column":65}},{"start":{"line":99,"column":69},"end":{"line":99,"column":90}}]},"15":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":9},"end":{"line":101,"column":9}},{"start":{"line":101,"column":9},"end":{"line":101,"column":9}}]},"16":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":13},"end":{"line":101,"column":39}},{"start":{"line":101,"column":45},"end":{"line":101,"column":68}},{"start":{"line":101,"column":74},"end":{"line":101,"column":100}}]},"17":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"18":{"line":117,"type":"binary-expr","locations":[{"start":{"line":117,"column":8},"end":{"line":117,"column":32}},{"start":{"line":117,"column":37},"end":{"line":117,"column":65}},{"start":{"line":117,"column":69},"end":{"line":117,"column":90}},{"start":{"line":117,"column":95},"end":{"line":117,"column":122}}]},"19":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":9},"end":{"line":119,"column":9}},{"start":{"line":119,"column":9},"end":{"line":119,"column":9}}]},"20":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":13},"end":{"line":119,"column":39}},{"start":{"line":119,"column":45},"end":{"line":119,"column":68}},{"start":{"line":119,"column":74},"end":{"line":119,"column":100}},{"start":{"line":119,"column":106},"end":{"line":119,"column":133}}]},"21":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":2},"end":{"line":128,"column":2}},{"start":{"line":128,"column":2},"end":{"line":128,"column":2}}]},"22":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":2},"end":{"line":144,"column":2}},{"start":{"line":144,"column":2},"end":{"line":144,"column":2}}]},"23":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":4},"end":{"line":152,"column":4}},{"start":{"line":152,"column":4},"end":{"line":152,"column":4}}]}},"code":["var uuid = require(\"hap-nodejs\").uuid;","var Accessory = require(\"hap-nodejs\").Accessory;","var Service = require(\"hap-nodejs\").Service;","var Characteristic = require(\"hap-nodejs\").Characteristic;","var inherits = require('util').inherits;","var EventEmitter = require('events').EventEmitter;","","'use strict';","","module.exports = {","  PlatformAccessory: PlatformAccessory","}","","function PlatformAccessory(displayName, UUID, category) {","  if (!displayName) throw new Error(\"Accessories must be created with a non-empty displayName.\");","  if (!UUID) throw new Error(\"Accessories must be created with a valid UUID.\");","  if (!uuid.isValid(UUID)) throw new Error(\"UUID '\" + UUID + \"' is not a valid UUID. Try using the provided 'generateUUID' function to create a valid UUID from any arbitrary string, like a serial number.\");","","  this.displayName = displayName;","  this.UUID = UUID;","  this.category = category || Accessory.Categories.OTHER;","  this.services = [];","  this.reachable = false;","  this.context = {};","","  this._associatedPlugin;","  this._associatedPlatform;","  this._associatedHAPAccessory;","","  this","    .addService(Service.AccessoryInformation)","    .setCharacteristic(Characteristic.Name, displayName)","    .setCharacteristic(Characteristic.Manufacturer, \"Default-Manufacturer\")","    .setCharacteristic(Characteristic.Model, \"Default-Model\")","    .setCharacteristic(Characteristic.SerialNumber, \"Default-SerialNumber\");","}","","inherits(PlatformAccessory, EventEmitter);","","PlatformAccessory.prototype.addService = function(service) {","  // service might be a constructor like `Service.AccessoryInformation` instead of an instance","  // of Service. Coerce if necessary.","  if (typeof service === 'function')","    service = new (Function.prototype.bind.apply(service, arguments));","  ","  // check for UUID+subtype conflict","  for (var index in this.services) {","    var existing = this.services[index];","    if (existing.UUID === service.UUID) {","      // OK we have two Services with the same UUID. Check that each defines a `subtype` property and that each is unique.","      if (!service.subtype)","        throw new Error(\"Cannot add a Service with the same UUID '\" + existing.UUID + \"' as another Service in this Accessory without also defining a unique 'subtype' property.\");","      ","      if (service.subtype.toString() === existing.subtype.toString())","        throw new Error(\"Cannot add a Service with the same UUID '\" + existing.UUID + \"' and subtype '\" + existing.subtype + \"' as another Service in this Accessory.\");","    }","  }","","  this.services.push(service);","","  if (this._associatedHAPAccessory) {","    this._associatedHAPAccessory.addService(service);","  }","  return service;","}","","PlatformAccessory.prototype.removeService = function(service) {","  var targetServiceIndex;","","  for (var index in this.services) {","    var existingService = this.services[index];","    ","    if (existingService === service) {","      targetServiceIndex = index;","      break;","    }","  }","","  if (targetServiceIndex) {","    this.services.splice(targetServiceIndex, 1);","    service.removeAllListeners();","","    if (this._associatedHAPAccessory) {","      this._associatedHAPAccessory.removeService(service);","    }","  }","}","","/**"," * searchs for a Service in the services collection and returns the first Service object that matches."," * If multiple services of the same type are present in one accessory, use getServiceByUUIDAndSubType instead."," * @param {ServiceConstructor|string} name"," * @returns Service"," */","PlatformAccessory.prototype.getService = function(name) {","  for (var index in this.services) {","    var service = this.services[index];","    ","    if (typeof name === 'string' && (service.displayName === name || service.name === name))","      return service;","    else if (typeof name === 'function' && ((service instanceof name) || (name.UUID === service.UUID)))","      return service;","  }","}","","/**"," * searchs for a Service in the services collection and returns the first Service object that matches."," * If multiple services of the same type are present in one accessory, use getServiceByUUIDAndSubType instead."," * @param {string} UUID Can be an UUID, a service.displayName, or a constructor of a Service"," * @param {string} subtype A subtype string to match"," * @returns Service"," */","PlatformAccessory.prototype.getServiceByUUIDAndSubType = function(UUID, subtype) {","  for (var index in this.services) {","    var service = this.services[index];","    ","    if (typeof UUID === 'string' && (service.displayName === UUID || service.name === UUID) && service.subtype === subtype )","      return service;","    else if (typeof UUID === 'function' && ((service instanceof UUID) || (UUID.UUID === service.UUID)) && service.subtype === subtype)","      return service;","  }","}","","","PlatformAccessory.prototype.updateReachability = function(reachable) {","  this.reachable = reachable;","","  if (this._associatedHAPAccessory) {","    this._associatedHAPAccessory.updateReachability(reachable);","  }","}","","PlatformAccessory.prototype.configureCameraSource = function(cameraSource) {","  this.cameraSource = cameraSource;","  for (var index in cameraSource.services) {","    var service = cameraSource.services[index];","    this.addService(service);","  }","}","","PlatformAccessory.prototype._prepareAssociatedHAPAccessory = function () {","  this._associatedHAPAccessory = new Accessory(this.displayName, this.UUID);","","  if (this.cameraSource) {","    this._associatedHAPAccessory.configureCameraSource(this.cameraSource);","  }","","  this._associatedHAPAccessory._sideloadServices(this.services);","  this._associatedHAPAccessory.category = this.category;","  this._associatedHAPAccessory.reachable = this.reachable;","  this._associatedHAPAccessory.on('identify', function(paired, callback) {","    if (this.listeners('identify').length > 0) {","    // allow implementors to identify this Accessory in whatever way is appropriate, and pass along","    // the standard callback for completion.","      this.emit('identify', paired, callback);","    } else {","      callback();","    }","  }.bind(this));","}","","PlatformAccessory.prototype._dictionaryPresentation = function() {","  var accessory = {};","","  accessory.plugin = this._associatedPlugin;","  accessory.platform = this._associatedPlatform;","  accessory.displayName = this.displayName;","  accessory.UUID = this.UUID;","  accessory.category = this.category;","  accessory.context = this.context;","","  var services = [];","  for (var index in this.services) {","    var service = this.services[index];","    var servicePresentation = {};","    servicePresentation.displayName = service.displayName;","    servicePresentation.UUID = service.UUID;","    servicePresentation.subtype = service.subtype;","","    var characteristics = [];","    for (var cIndex in service.characteristics) {","      var characteristic = service.characteristics[cIndex];","      var characteristicPresentation = {};","      characteristicPresentation.displayName = characteristic.displayName;","      characteristicPresentation.UUID = characteristic.UUID;","      characteristicPresentation.props = characteristic.props;","      characteristicPresentation.value = characteristic.value;","      characteristicPresentation.eventOnlyCharacteristic = characteristic.eventOnlyCharacteristic;","      characteristics.push(characteristicPresentation);","    }","    ","    servicePresentation.characteristics = characteristics;","    services.push(servicePresentation);","  }","","  accessory.services = services;","  return accessory;","}","","PlatformAccessory.prototype._configFromData = function(data) {","  this._associatedPlugin = data.plugin;","  this._associatedPlatform = data.platform;","  this.displayName = data.displayName;","  this.UUID = data.UUID;","  this.category = data.category;","  this.context = data.context;","  this.reachable = false;","","  var services = [];","  for (var index in data.services) {","    var service = data.services[index];","    var hapService = new Service(service.displayName, service.UUID, service.subtype);","","    var characteristics = [];","    for (var cIndex in service.characteristics) {","      var characteristic = service.characteristics[cIndex];","      var hapCharacteristic = new Characteristic(characteristic.displayName, characteristic.UUID, characteristic.props);","      hapCharacteristic.eventOnlyCharacteristic = characteristic.eventOnlyCharacteristic;","      hapCharacteristic.value = characteristic.value;","      characteristics.push(hapCharacteristic);","    }","","    hapService._sideloadCharacteristics(characteristics);","    services.push(hapService);","  }","","  this.services = services;","}",""],"l":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"8":0,"10":0,"14":1,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"26":0,"27":0,"28":0,"30":0,"38":0,"40":0,"43":0,"44":0,"47":0,"48":0,"49":0,"51":0,"52":0,"54":0,"55":0,"59":0,"61":0,"62":0,"64":0,"67":0,"68":0,"70":0,"71":0,"73":0,"74":0,"75":0,"79":0,"80":0,"81":0,"83":0,"84":0,"95":0,"96":0,"97":0,"99":0,"100":0,"101":0,"102":0,"113":0,"114":0,"115":0,"117":0,"118":0,"119":0,"120":0,"125":0,"126":0,"128":0,"129":0,"133":0,"134":0,"135":0,"136":0,"137":0,"141":0,"142":0,"144":0,"145":0,"148":0,"149":0,"150":0,"151":0,"152":0,"155":0,"157":0,"162":0,"163":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"192":0,"193":0,"196":0,"197":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"209":0,"210":0,"211":0,"212":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"223":0,"224":0,"227":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/plugin.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/plugin.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":1,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1,"46":1,"47":1,"48":1,"49":0,"50":0,"51":1,"52":0,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,1],"16":[0,1],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"Plugin","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}}},"2":{"name":"(anonymous_2)","line":25,"loc":{"start":{"line":25,"column":24},"end":{"line":25,"column":35}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":24},"end":{"line":29,"column":42}}},"4":{"name":"(anonymous_4)","line":68,"loc":{"start":{"line":68,"column":25},"end":{"line":68,"column":46}}},"5":{"name":"(anonymous_5)","line":98,"loc":{"start":{"line":98,"column":25},"end":{"line":98,"column":36}}},"6":{"name":"(anonymous_6)","line":113,"loc":{"start":{"line":113,"column":14},"end":{"line":113,"column":26}}},"7":{"name":"(anonymous_7)","line":132,"loc":{"start":{"line":132,"column":23},"end":{"line":132,"column":44}}},"8":{"name":"(anonymous_8)","line":137,"loc":{"start":{"line":137,"column":19},"end":{"line":137,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":38}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":13}},"8":{"start":{"line":10,"column":0},"end":{"line":12,"column":1}},"9":{"start":{"line":20,"column":0},"end":{"line":23,"column":1}},"10":{"start":{"line":21,"column":2},"end":{"line":21,"column":31}},"11":{"start":{"line":22,"column":2},"end":{"line":22,"column":19}},"12":{"start":{"line":25,"column":0},"end":{"line":27,"column":1}},"13":{"start":{"line":26,"column":2},"end":{"line":26,"column":40}},"14":{"start":{"line":29,"column":0},"end":{"line":66,"column":1}},"15":{"start":{"line":30,"column":2},"end":{"line":30,"column":26}},"16":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"17":{"start":{"line":34,"column":4},"end":{"line":34,"column":130}},"18":{"start":{"line":38,"column":2},"end":{"line":38,"column":54}},"19":{"start":{"line":41,"column":2},"end":{"line":45,"column":3}},"20":{"start":{"line":42,"column":4},"end":{"line":42,"column":37}},"21":{"start":{"line":43,"column":4},"end":{"line":43,"column":60}},"22":{"start":{"line":44,"column":4},"end":{"line":44,"column":28}},"23":{"start":{"line":48,"column":2},"end":{"line":50,"column":3}},"24":{"start":{"line":49,"column":4},"end":{"line":49,"column":110}},"25":{"start":{"line":52,"column":2},"end":{"line":52,"column":49}},"26":{"start":{"line":55,"column":2},"end":{"line":57,"column":3}},"27":{"start":{"line":56,"column":4},"end":{"line":56,"column":242}},"28":{"start":{"line":60,"column":2},"end":{"line":60,"column":40}},"29":{"start":{"line":62,"column":2},"end":{"line":62,"column":50}},"30":{"start":{"line":65,"column":2},"end":{"line":65,"column":39}},"31":{"start":{"line":68,"column":0},"end":{"line":96,"column":1}},"32":{"start":{"line":70,"column":2},"end":{"line":70,"column":56}},"33":{"start":{"line":71,"column":2},"end":{"line":71,"column":19}},"34":{"start":{"line":73,"column":2},"end":{"line":75,"column":3}},"35":{"start":{"line":74,"column":4},"end":{"line":74,"column":82}},"36":{"start":{"line":77,"column":2},"end":{"line":83,"column":3}},"37":{"start":{"line":79,"column":4},"end":{"line":79,"column":51}},"38":{"start":{"line":82,"column":4},"end":{"line":82,"column":97}},"39":{"start":{"line":86,"column":2},"end":{"line":88,"column":3}},"40":{"start":{"line":87,"column":4},"end":{"line":87,"column":110}},"41":{"start":{"line":91,"column":2},"end":{"line":93,"column":3}},"42":{"start":{"line":92,"column":4},"end":{"line":92,"column":112}},"43":{"start":{"line":95,"column":2},"end":{"line":95,"column":15}},"44":{"start":{"line":98,"column":0},"end":{"line":127,"column":1}},"45":{"start":{"line":99,"column":2},"end":{"line":99,"column":43}},"46":{"start":{"line":100,"column":2},"end":{"line":100,"column":17}},"47":{"start":{"line":103,"column":2},"end":{"line":103,"column":43}},"48":{"start":{"line":111,"column":2},"end":{"line":125,"column":3}},"49":{"start":{"line":112,"column":4},"end":{"line":114,"column":21}},"50":{"start":{"line":113,"column":28},"end":{"line":113,"column":39}},"51":{"start":{"line":117,"column":4},"end":{"line":124,"column":5}},"52":{"start":{"line":118,"column":6},"end":{"line":118,"column":69}},"53":{"start":{"line":120,"column":6},"end":{"line":120,"column":48}},"54":{"start":{"line":121,"column":6},"end":{"line":121,"column":42}},"55":{"start":{"line":122,"column":6},"end":{"line":122,"column":53}},"56":{"start":{"line":123,"column":6},"end":{"line":123,"column":92}},"57":{"start":{"line":126,"column":2},"end":{"line":126,"column":15}},"58":{"start":{"line":130,"column":0},"end":{"line":130,"column":40}},"59":{"start":{"line":132,"column":0},"end":{"line":134,"column":1}},"60":{"start":{"line":133,"column":2},"end":{"line":133,"column":64}},"61":{"start":{"line":137,"column":0},"end":{"line":206,"column":1}},"62":{"start":{"line":139,"column":2},"end":{"line":139,"column":19}},"63":{"start":{"line":140,"column":2},"end":{"line":140,"column":25}},"64":{"start":{"line":141,"column":2},"end":{"line":141,"column":25}},"65":{"start":{"line":144,"column":2},"end":{"line":203,"column":3}},"66":{"start":{"line":145,"column":4},"end":{"line":145,"column":42}},"67":{"start":{"line":148,"column":4},"end":{"line":149,"column":15}},"68":{"start":{"line":149,"column":6},"end":{"line":149,"column":15}},"69":{"start":{"line":151,"column":4},"end":{"line":151,"column":38}},"70":{"start":{"line":154,"column":4},"end":{"line":155,"column":15}},"71":{"start":{"line":155,"column":6},"end":{"line":155,"column":15}},"72":{"start":{"line":157,"column":4},"end":{"line":157,"column":44}},"73":{"start":{"line":160,"column":4},"end":{"line":161,"column":19}},"74":{"start":{"line":161,"column":6},"end":{"line":161,"column":19}},"75":{"start":{"line":164,"column":4},"end":{"line":202,"column":5}},"76":{"start":{"line":165,"column":6},"end":{"line":165,"column":31}},"77":{"start":{"line":168,"column":6},"end":{"line":168,"column":52}},"78":{"start":{"line":169,"column":6},"end":{"line":174,"column":7}},"79":{"start":{"line":171,"column":8},"end":{"line":171,"column":61}},"80":{"start":{"line":171,"column":52},"end":{"line":171,"column":61}},"81":{"start":{"line":173,"column":8},"end":{"line":173,"column":17}},"82":{"start":{"line":176,"column":6},"end":{"line":176,"column":16}},"83":{"start":{"line":177,"column":6},"end":{"line":189,"column":7}},"84":{"start":{"line":179,"column":8},"end":{"line":179,"column":51}},"85":{"start":{"line":183,"column":8},"end":{"line":185,"column":9}},"86":{"start":{"line":184,"column":10},"end":{"line":184,"column":32}},"87":{"start":{"line":188,"column":8},"end":{"line":188,"column":17}},"88":{"start":{"line":192,"column":6},"end":{"line":192,"column":35}},"89":{"start":{"line":192,"column":17},"end":{"line":192,"column":35}},"90":{"start":{"line":195,"column":6},"end":{"line":201,"column":7}},"91":{"start":{"line":196,"column":8},"end":{"line":196,"column":41}},"92":{"start":{"line":197,"column":8},"end":{"line":197,"column":45}},"93":{"start":{"line":200,"column":8},"end":{"line":200,"column":151}},"94":{"start":{"line":205,"column":2},"end":{"line":205,"column":17}}},"branchMap":{"1":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":12},"end":{"line":30,"column":19}},{"start":{"line":30,"column":23},"end":{"line":30,"column":25}}]},"2":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":33,"column":2}},{"start":{"line":33,"column":2},"end":{"line":33,"column":2}}]},"3":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":2},"end":{"line":41,"column":2}},{"start":{"line":41,"column":2},"end":{"line":41,"column":2}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":6},"end":{"line":41,"column":29}},{"start":{"line":41,"column":34},"end":{"line":41,"column":48}},{"start":{"line":41,"column":52},"end":{"line":41,"column":77}}]},"5":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":18},"end":{"line":42,"column":31}},{"start":{"line":42,"column":35},"end":{"line":42,"column":37}}]},"6":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":2},"end":{"line":48,"column":2}},{"start":{"line":48,"column":2},"end":{"line":48,"column":2}}]},"7":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":6},"end":{"line":48,"column":20}},{"start":{"line":48,"column":24},"end":{"line":48,"column":49}}]},"8":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":2},"end":{"line":55,"column":2}},{"start":{"line":55,"column":2},"end":{"line":55,"column":2}}]},"9":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":13},"end":{"line":60,"column":23}},{"start":{"line":60,"column":27},"end":{"line":60,"column":39}}]},"10":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":2},"end":{"line":73,"column":2}},{"start":{"line":73,"column":2},"end":{"line":73,"column":2}}]},"11":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":2},"end":{"line":86,"column":2}},{"start":{"line":86,"column":2},"end":{"line":86,"column":2}}]},"12":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":6},"end":{"line":86,"column":17}},{"start":{"line":86,"column":21},"end":{"line":86,"column":59}}]},"13":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":2},"end":{"line":91,"column":2}},{"start":{"line":91,"column":2},"end":{"line":91,"column":2}}]},"14":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":6},"end":{"line":91,"column":21}},{"start":{"line":91,"column":25},"end":{"line":91,"column":74}}]},"15":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":2},"end":{"line":111,"column":2}},{"start":{"line":111,"column":2},"end":{"line":111,"column":2}}]},"16":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"17":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":4}},{"start":{"line":148,"column":4},"end":{"line":148,"column":4}}]},"18":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":4},"end":{"line":154,"column":4}},{"start":{"line":154,"column":4},"end":{"line":154,"column":4}}]},"19":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":4},"end":{"line":160,"column":4}},{"start":{"line":160,"column":4},"end":{"line":160,"column":4}}]},"20":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":8},"end":{"line":171,"column":8}},{"start":{"line":171,"column":8},"end":{"line":171,"column":8}}]},"21":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":8},"end":{"line":183,"column":8}},{"start":{"line":183,"column":8},"end":{"line":183,"column":8}}]},"22":{"line":183,"type":"binary-expr","locations":[{"start":{"line":183,"column":12},"end":{"line":183,"column":17}},{"start":{"line":183,"column":21},"end":{"line":183,"column":53}}]},"23":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":6},"end":{"line":192,"column":6}},{"start":{"line":192,"column":6},"end":{"line":192,"column":6}}]},"24":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":6},"end":{"line":195,"column":6}},{"start":{"line":195,"column":6},"end":{"line":195,"column":6}}]}},"code":["var path = require('path');","var fs = require('fs');","var semver = require('semver');","var User = require('./user').User;","var version = require('./version');","var log = require(\"./logger\")._system;","","'use strict';","","module.exports = {","  Plugin: Plugin","}","","/**"," * Homebridge Plugin."," *"," * Allows for discovering and loading installed Homebridge plugins."," */","","function Plugin(pluginPath) {","  this.pluginPath = pluginPath; // like \"/usr/local/lib/node_modules/homebridge-lockitron\"","  this.initializer; // exported function from the plugin that initializes it","}","","Plugin.prototype.name = function() {","  return path.basename(this.pluginPath);","}","","Plugin.prototype.load = function(options) {","  options = options || {};","","  // does this plugin exist at all?","  if (!fs.existsSync(this.pluginPath)) {","    throw new Error(\"Plugin \" + this.pluginPath + \" was not found. Make sure the module '\" + this.pluginPath + \"' is installed.\");","  }","","  // attempt to load package.json","  var pjson = Plugin.loadPackageJSON(this.pluginPath);","","  // very temporary fix for first wave of plugins","  if (pjson.peerDepdendencies && (!pjson.engines || !pjson.engines.homebridge)) {","    var engines = pjson.engines || {}","    engines.homebridge = pjson.peerDepdendencies.homebridge;","    pjson.engines = engines;","  }","","  // pluck out the HomeBridge version requirement","  if (!pjson.engines || !pjson.engines.homebridge) {","    throw new Error(\"Plugin \" + this.pluginPath + \" does not contain the 'homebridge' package in 'engines'.\");","  }","","  var versionRequired = pjson.engines.homebridge;","","  // make sure the version is satisfied by the currently running version of HomeBridge","  if (!semver.satisfies(version, versionRequired)) {","    throw new Error(\"Plugin \" + this.pluginPath + \" requires a HomeBridge version of \" + versionRequired + \" which does not satisfy the current HomeBridge version of \" + version + \". You may need to upgrade your installation of HomeBridge.\");","  }","","  // figure out the main module - index.js unless otherwise specified","  var main = pjson.main || \"./index.js\";","","  var mainPath = path.join(this.pluginPath, main);","","  // try to require() it and grab the exported initialization hook","  this.initializer = require(mainPath);","}","","Plugin.loadPackageJSON = function(pluginPath) {","  // check for a package.json","  var pjsonPath = path.join(pluginPath, \"package.json\");","  var pjson = null;","","  if (!fs.existsSync(pjsonPath)) {","    throw new Error(\"Plugin \" + pluginPath + \" does not contain a package.json.\");","  }","","  try {","    // attempt to parse package.json","    pjson = JSON.parse(fs.readFileSync(pjsonPath));","  }","  catch (err) {","    throw new Error(\"Plugin \" + pluginPath + \" contains an invalid package.json. Error: \" + err);","  }","","  // make sure the name is prefixed with 'homebridge-'","  if (!pjson.name || pjson.name.indexOf('homebridge-') != 0) {","    throw new Error(\"Plugin \" + pluginPath + \" does not have a package name that begins with 'homebridge-'.\");","  }","","  // verify that it's tagged with the correct keyword","  if (!pjson.keywords || pjson.keywords.indexOf(\"homebridge-plugin\") == -1) {","    throw new Error(\"Plugin \" + pluginPath + \" package.json does not contain the keyword 'homebridge-plugin'.\");","  }","","  return pjson;","}","","Plugin.getDefaultPaths = function() {","  var win32 = process.platform === 'win32';","  var paths = [];","","  // add the paths used by require()","  paths = paths.concat(require.main.paths);","","  // THIS SECTION FROM: https://github.com/yeoman/environment/blob/master/lib/resolver.js","","  // Adding global npm directories","  // We tried using npm to get the global modules path, but it haven't work out","  // because of bugs in the parseable implementation of `ls` command and mostly","  // performance issues. So, we go with our best bet for now.","  if (process.env.NODE_PATH) {","    paths = process.env.NODE_PATH.split(path.delimiter)","      .filter(function(p) { return !!p; }) // trim out empty values","      .concat(paths);","  } else {","    // Default paths for each system","    if (win32) {","      paths.push(path.join(process.env.APPDATA, 'npm/node_modules'));","    } else {","      paths.push('/usr/local/lib/node_modules');","      paths.push('/usr/lib/node_modules');","      const exec = require('child_process').execSync;","      paths.push(exec('/bin/echo -n \"$(npm -g prefix)/lib/node_modules\"').toString('utf8'));","    }","  }","  return paths;","}","","// All search paths we will use to discover installed plugins","Plugin.paths = Plugin.getDefaultPaths();","","Plugin.addPluginPath = function(pluginPath) {","  Plugin.paths.unshift(path.resolve(process.cwd(), pluginPath));","}","","// Gets all plugins installed on the local system","Plugin.installed = function() {","","  var plugins = [];","  var pluginsByName = {}; // don't add duplicate plugins","  var searchedPaths = {}; // don't search the same paths twice","","  // search for plugins among all known paths, in order","  for (var index in Plugin.paths) {","    var requirePath = Plugin.paths[index];","","    // did we already search this path?","    if (searchedPaths[requirePath])","      continue;","","    searchedPaths[requirePath] = true;","","    // just because this path is in require.main.paths doesn't mean it necessarily exists!","    if (!fs.existsSync(requirePath))","      continue;","","    var names = fs.readdirSync(requirePath);","","    // does this path point inside a single plugin and not a directory containing plugins?","    if (fs.existsSync(path.join(requirePath, \"package.json\")))","      names = [\"\"];","","    // read through each directory in this node_modules folder","    for (var index2 in names) {","      var name = names[index2];","","      // reconstruct full path","      var pluginPath = path.join(requirePath, name);","      try {","        // we only care about directories","        if (!fs.statSync(pluginPath).isDirectory()) continue;","      } catch (e) {","        continue;","      }","      // does this module contain a package.json?","      var pjson;","      try {","        // throws an Error if this isn't a homebridge plugin","        pjson = Plugin.loadPackageJSON(pluginPath);","      }","      catch (err) {","        // is this \"trying\" to be a homebridge plugin? if so let you know what went wrong.","        if (!name || name.indexOf('homebridge-') == 0) {","          log.warn(err.message);","        }","","        // skip this module","        continue;","      }","","      // get actual name if this path points inside a single plugin","      if (!name) name = pjson.name;","","      // add it to the return list","      if (!pluginsByName[name]) {","        pluginsByName[name] = pluginPath;","        plugins.push(new Plugin(pluginPath));","      }","      else {","        log.warn(\"Warning: skipping plugin found at '\" + pluginPath + \"' since we already loaded the same plugin from '\" + pluginsByName[name] + \"'.\");","      }","    }","  }","","  return plugins;","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"10":1,"20":1,"21":0,"22":0,"25":1,"26":0,"29":1,"30":0,"33":0,"34":0,"38":0,"41":0,"42":0,"43":0,"44":0,"48":0,"49":0,"52":0,"55":0,"56":0,"60":0,"62":0,"65":0,"68":1,"70":0,"71":0,"73":0,"74":0,"77":0,"79":0,"82":0,"86":0,"87":0,"91":0,"92":0,"95":0,"98":1,"99":1,"100":1,"103":1,"111":1,"112":0,"113":0,"117":1,"118":0,"120":1,"121":1,"122":1,"123":1,"126":1,"130":1,"132":1,"133":0,"137":1,"139":0,"140":0,"141":0,"144":0,"145":0,"148":0,"149":0,"151":0,"154":0,"155":0,"157":0,"160":0,"161":0,"164":0,"165":0,"168":0,"169":0,"171":0,"173":0,"176":0,"177":0,"179":0,"183":0,"184":0,"188":0,"192":0,"195":0,"196":0,"197":0,"200":0,"205":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/user.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/user.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":1,"18":0,"19":1,"20":0,"21":1,"22":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"User","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":16}}},"2":{"name":"(anonymous_2)","line":23,"loc":{"start":{"line":23,"column":14},"end":{"line":23,"column":25}}},"3":{"name":"(anonymous_3)","line":27,"loc":{"start":{"line":27,"column":19},"end":{"line":27,"column":30}}},"4":{"name":"(anonymous_4)","line":33,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":29}}},"5":{"name":"(anonymous_5)","line":37,"loc":{"start":{"line":37,"column":19},"end":{"line":37,"column":30}}},"6":{"name":"(anonymous_6)","line":41,"loc":{"start":{"line":41,"column":27},"end":{"line":41,"column":38}}},"7":{"name":"(anonymous_7)","line":45,"loc":{"start":{"line":45,"column":22},"end":{"line":45,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":13}},"4":{"start":{"line":6,"column":0},"end":{"line":8,"column":1}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":11}},"6":{"start":{"line":18,"column":0},"end":{"line":18,"column":22}},"7":{"start":{"line":20,"column":0},"end":{"line":21,"column":1}},"8":{"start":{"line":23,"column":0},"end":{"line":25,"column":1}},"9":{"start":{"line":24,"column":2},"end":{"line":24,"column":61}},"10":{"start":{"line":27,"column":0},"end":{"line":31,"column":1}},"11":{"start":{"line":28,"column":2},"end":{"line":28,"column":50}},"12":{"start":{"line":28,"column":25},"end":{"line":28,"column":50}},"13":{"start":{"line":29,"column":2},"end":{"line":29,"column":81}},"14":{"start":{"line":30,"column":2},"end":{"line":30,"column":40}},"15":{"start":{"line":33,"column":0},"end":{"line":35,"column":1}},"16":{"start":{"line":34,"column":2},"end":{"line":34,"column":54}},"17":{"start":{"line":37,"column":0},"end":{"line":39,"column":1}},"18":{"start":{"line":38,"column":2},"end":{"line":38,"column":50}},"19":{"start":{"line":41,"column":0},"end":{"line":43,"column":1}},"20":{"start":{"line":42,"column":2},"end":{"line":42,"column":54}},"21":{"start":{"line":45,"column":0},"end":{"line":47,"column":1}},"22":{"start":{"line":46,"column":2},"end":{"line":46,"column":27}}},"branchMap":{"1":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":9},"end":{"line":24,"column":15}},{"start":{"line":24,"column":20},"end":{"line":24,"column":59}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":2},"end":{"line":28,"column":2}},{"start":{"line":28,"column":2},"end":{"line":28,"column":2}}]},"3":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":13},"end":{"line":29,"column":29}},{"start":{"line":29,"column":33},"end":{"line":29,"column":53}},{"start":{"line":29,"column":57},"end":{"line":29,"column":80}}]}},"code":["var path = require('path');","var fs = require('fs');","","'use strict';","","module.exports = {","  User: User","}","","/**"," * Manages user settings and storage locations."," */","","// global cached config","var config;","","// optional custom storage path","var customStoragePath;","","function User() {","}","  ","User.config = function() {","  return config || (config = Config.load(User.configPath()));","}","  ","User.storagePath = function() {","  if (customStoragePath) return customStoragePath;","  var home = process.env.HOME || process.env.HOMEPATH || process.env.USERPROFILE;","  return path.join(home, \".homebridge\");","}","","User.configPath = function() {","  return path.join(User.storagePath(), \"config.json\");","}","","User.persistPath = function() {","  return path.join(User.storagePath(), \"persist\");","}","","User.cachedAccessoryPath = function() {","  return path.join(User.storagePath(), \"accessories\");","}","","User.setStoragePath = function(path) {","  customStoragePath = path;","}"],"l":{"1":1,"2":1,"4":1,"6":1,"15":1,"18":1,"20":1,"23":1,"24":0,"27":1,"28":0,"29":0,"30":0,"33":1,"34":0,"37":1,"38":0,"41":1,"42":0,"45":1,"46":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/version.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/version.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{},"f":{"1":1},"fnMap":{"1":{"name":"getVersion","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":13}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"5":{"start":{"line":8,"column":0},"end":{"line":12,"column":1}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":64}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":65}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":29}}},"branchMap":{},"code":["var fs = require('fs');","var path = require('path');","","'use strict';","","module.exports = getVersion();","","function getVersion() {","  var packageJSONPath = path.join(__dirname, '../package.json');","  var packageJSON = JSON.parse(fs.readFileSync(packageJSONPath));","  return packageJSON.version;","}",""],"l":{"1":1,"2":1,"4":1,"6":1,"8":1,"9":1,"10":1,"11":1}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/server.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/server.js","s":{"1":2,"2":2,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0],"18":[0,0],"19":[0,0,0],"20":[0,0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"fnMap":{"1":{"name":"Server","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":38}}},"2":{"name":"(anonymous_2)","line":35,"loc":{"start":{"line":35,"column":46},"end":{"line":35,"column":68}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":44},"end":{"line":39,"column":66}}},"4":{"name":"(anonymous_4)","line":43,"loc":{"start":{"line":43,"column":48},"end":{"line":43,"column":70}}},"5":{"name":"(anonymous_5)","line":47,"loc":{"start":{"line":47,"column":43},"end":{"line":47,"column":65}}},"6":{"name":"(anonymous_6)","line":62,"loc":{"start":{"line":62,"column":48},"end":{"line":62,"column":67}}},"7":{"name":"(anonymous_7)","line":74,"loc":{"start":{"line":74,"column":23},"end":{"line":74,"column":34}}},"8":{"name":"(anonymous_8)","line":96,"loc":{"start":{"line":96,"column":28},"end":{"line":96,"column":39}}},"9":{"name":"(anonymous_9)","line":110,"loc":{"start":{"line":110,"column":31},"end":{"line":110,"column":46}}},"10":{"name":"(anonymous_10)","line":122,"loc":{"start":{"line":122,"column":32},"end":{"line":122,"column":65}}},"11":{"name":"(anonymous_11)","line":128,"loc":{"start":{"line":128,"column":29},"end":{"line":128,"column":46}}},"12":{"name":"(anonymous_12)","line":166,"loc":{"start":{"line":166,"column":31},"end":{"line":166,"column":42}}},"13":{"name":"(anonymous_13)","line":218,"loc":{"start":{"line":218,"column":50},"end":{"line":218,"column":61}}},"14":{"name":"(anonymous_14)","line":235,"loc":{"start":{"line":235,"column":33},"end":{"line":235,"column":44}}},"15":{"name":"(anonymous_15)","line":243,"loc":{"start":{"line":243,"column":36},"end":{"line":243,"column":47}}},"16":{"name":"(anonymous_16)","line":273,"loc":{"start":{"line":273,"column":34},"end":{"line":273,"column":45}}},"17":{"name":"(anonymous_17)","line":309,"loc":{"start":{"line":309,"column":41},"end":{"line":309,"column":52}}},"18":{"name":"(anonymous_18)","line":325,"loc":{"start":{"line":325,"column":52},"end":{"line":325,"column":63}}},"19":{"name":"(anonymous_19)","line":352,"loc":{"start":{"line":352,"column":44},"end":{"line":352,"column":90}}},"20":{"name":"(anonymous_20)","line":354,"loc":{"start":{"line":354,"column":36},"end":{"line":354,"column":62}}},"21":{"name":"(anonymous_21)","line":376,"loc":{"start":{"line":376,"column":36},"end":{"line":376,"column":103}}},"22":{"name":"(anonymous_22)","line":400,"loc":{"start":{"line":400,"column":31},"end":{"line":400,"column":58}}},"23":{"name":"(anonymous_23)","line":402,"loc":{"start":{"line":402,"column":21},"end":{"line":402,"column":39}}},"24":{"name":"(anonymous_24)","line":426,"loc":{"start":{"line":426,"column":54},"end":{"line":426,"column":76}}},"25":{"name":"(anonymous_25)","line":441,"loc":{"start":{"line":441,"column":52},"end":{"line":441,"column":74}}},"26":{"name":"(anonymous_26)","line":446,"loc":{"start":{"line":446,"column":56},"end":{"line":446,"column":78}}},"27":{"name":"(anonymous_27)","line":468,"loc":{"start":{"line":468,"column":51},"end":{"line":468,"column":73}}},"28":{"name":"(anonymous_28)","line":484,"loc":{"start":{"line":484,"column":33},"end":{"line":484,"column":48}}},"29":{"name":"(anonymous_29)","line":496,"loc":{"start":{"line":496,"column":44},"end":{"line":496,"column":55}}},"30":{"name":"(anonymous_30)","line":507,"loc":{"start":{"line":507,"column":36},"end":{"line":507,"column":74}}},"31":{"name":"(anonymous_31)","line":582,"loc":{"start":{"line":582,"column":29},"end":{"line":582,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":56}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":48}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":58}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":60}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":52}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":31}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":73}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":76}},"16":{"start":{"line":16,"column":0},"end":{"line":16,"column":38}},"17":{"start":{"line":17,"column":0},"end":{"line":17,"column":40}},"18":{"start":{"line":18,"column":0},"end":{"line":18,"column":32}},"19":{"start":{"line":19,"column":0},"end":{"line":19,"column":29}},"20":{"start":{"line":21,"column":0},"end":{"line":21,"column":13}},"21":{"start":{"line":23,"column":0},"end":{"line":25,"column":1}},"22":{"start":{"line":27,"column":0},"end":{"line":72,"column":1}},"23":{"start":{"line":28,"column":2},"end":{"line":28,"column":20}},"24":{"start":{"line":31,"column":2},"end":{"line":31,"column":65}},"25":{"start":{"line":33,"column":2},"end":{"line":33,"column":24}},"26":{"start":{"line":35,"column":2},"end":{"line":37,"column":16}},"27":{"start":{"line":36,"column":4},"end":{"line":36,"column":57}},"28":{"start":{"line":39,"column":2},"end":{"line":41,"column":16}},"29":{"start":{"line":40,"column":4},"end":{"line":40,"column":55}},"30":{"start":{"line":43,"column":2},"end":{"line":45,"column":16}},"31":{"start":{"line":44,"column":4},"end":{"line":44,"column":59}},"32":{"start":{"line":47,"column":2},"end":{"line":49,"column":16}},"33":{"start":{"line":48,"column":4},"end":{"line":48,"column":54}},"34":{"start":{"line":51,"column":2},"end":{"line":51,"column":38}},"35":{"start":{"line":52,"column":2},"end":{"line":52,"column":51}},"36":{"start":{"line":53,"column":2},"end":{"line":53,"column":74}},"37":{"start":{"line":54,"column":2},"end":{"line":54,"column":38}},"38":{"start":{"line":56,"column":2},"end":{"line":56,"column":34}},"39":{"start":{"line":57,"column":2},"end":{"line":57,"column":41}},"40":{"start":{"line":58,"column":2},"end":{"line":58,"column":30}},"41":{"start":{"line":59,"column":2},"end":{"line":59,"column":48}},"42":{"start":{"line":60,"column":2},"end":{"line":60,"column":71}},"43":{"start":{"line":62,"column":2},"end":{"line":64,"column":16}},"44":{"start":{"line":63,"column":4},"end":{"line":63,"column":27}},"45":{"start":{"line":71,"column":2},"end":{"line":71,"column":54}},"46":{"start":{"line":74,"column":0},"end":{"line":94,"column":1}},"47":{"start":{"line":77,"column":2},"end":{"line":77,"column":23}},"48":{"start":{"line":78,"column":2},"end":{"line":78,"column":25}},"49":{"start":{"line":80,"column":2},"end":{"line":80,"column":52}},"50":{"start":{"line":80,"column":30},"end":{"line":80,"column":52}},"51":{"start":{"line":81,"column":2},"end":{"line":81,"column":56}},"52":{"start":{"line":81,"column":32},"end":{"line":81,"column":56}},"53":{"start":{"line":82,"column":2},"end":{"line":82,"column":31}},"54":{"start":{"line":83,"column":2},"end":{"line":83,"column":42}},"55":{"start":{"line":84,"column":2},"end":{"line":84,"column":85}},"56":{"start":{"line":85,"column":2},"end":{"line":85,"column":54}},"57":{"start":{"line":87,"column":2},"end":{"line":87,"column":26}},"58":{"start":{"line":90,"column":2},"end":{"line":91,"column":20}},"59":{"start":{"line":91,"column":4},"end":{"line":91,"column":20}},"60":{"start":{"line":93,"column":2},"end":{"line":93,"column":39}},"61":{"start":{"line":96,"column":0},"end":{"line":120,"column":1}},"62":{"start":{"line":98,"column":2},"end":{"line":98,"column":47}},"63":{"start":{"line":100,"column":2},"end":{"line":100,"column":67}},"64":{"start":{"line":101,"column":2},"end":{"line":102,"column":83}},"65":{"start":{"line":102,"column":4},"end":{"line":102,"column":83}},"66":{"start":{"line":103,"column":2},"end":{"line":104,"column":69}},"67":{"start":{"line":104,"column":4},"end":{"line":104,"column":69}},"68":{"start":{"line":105,"column":2},"end":{"line":106,"column":83}},"69":{"start":{"line":106,"column":4},"end":{"line":106,"column":83}},"70":{"start":{"line":108,"column":2},"end":{"line":108,"column":35}},"71":{"start":{"line":110,"column":2},"end":{"line":112,"column":5}},"72":{"start":{"line":111,"column":4},"end":{"line":111,"column":56}},"73":{"start":{"line":114,"column":2},"end":{"line":119,"column":32}},"74":{"start":{"line":122,"column":0},"end":{"line":164,"column":1}},"75":{"start":{"line":124,"column":2},"end":{"line":124,"column":19}},"76":{"start":{"line":125,"column":2},"end":{"line":125,"column":29}},"77":{"start":{"line":128,"column":2},"end":{"line":156,"column":16}},"78":{"start":{"line":131,"column":4},"end":{"line":140,"column":5}},"79":{"start":{"line":132,"column":6},"end":{"line":132,"column":20}},"80":{"start":{"line":135,"column":6},"end":{"line":135,"column":39}},"81":{"start":{"line":136,"column":6},"end":{"line":136,"column":62}},"82":{"start":{"line":137,"column":6},"end":{"line":137,"column":27}},"83":{"start":{"line":138,"column":6},"end":{"line":138,"column":39}},"84":{"start":{"line":139,"column":6},"end":{"line":139,"column":29}},"85":{"start":{"line":142,"column":4},"end":{"line":154,"column":5}},"86":{"start":{"line":145,"column":6},"end":{"line":145,"column":38}},"87":{"start":{"line":147,"column":6},"end":{"line":147,"column":50}},"88":{"start":{"line":150,"column":6},"end":{"line":150,"column":36}},"89":{"start":{"line":152,"column":6},"end":{"line":152,"column":22}},"90":{"start":{"line":153,"column":6},"end":{"line":153,"column":28}},"91":{"start":{"line":159,"column":2},"end":{"line":161,"column":3}},"92":{"start":{"line":160,"column":4},"end":{"line":160,"column":87}},"93":{"start":{"line":163,"column":2},"end":{"line":163,"column":17}},"94":{"start":{"line":166,"column":0},"end":{"line":216,"column":1}},"95":{"start":{"line":169,"column":2},"end":{"line":169,"column":37}},"96":{"start":{"line":172,"column":2},"end":{"line":186,"column":3}},"97":{"start":{"line":173,"column":4},"end":{"line":173,"column":56}},"98":{"start":{"line":175,"column":4},"end":{"line":175,"column":20}},"99":{"start":{"line":177,"column":4},"end":{"line":181,"column":6}},"100":{"start":{"line":183,"column":4},"end":{"line":183,"column":18}},"101":{"start":{"line":189,"column":2},"end":{"line":189,"column":13}},"102":{"start":{"line":190,"column":2},"end":{"line":198,"column":3}},"103":{"start":{"line":191,"column":4},"end":{"line":191,"column":53}},"104":{"start":{"line":194,"column":4},"end":{"line":194,"column":68}},"105":{"start":{"line":195,"column":4},"end":{"line":195,"column":99}},"106":{"start":{"line":196,"column":4},"end":{"line":196,"column":18}},"107":{"start":{"line":197,"column":4},"end":{"line":197,"column":14}},"108":{"start":{"line":200,"column":2},"end":{"line":200,"column":78}},"109":{"start":{"line":202,"column":2},"end":{"line":202,"column":40}},"110":{"start":{"line":203,"column":2},"end":{"line":203,"column":52}},"111":{"start":{"line":204,"column":2},"end":{"line":207,"column":3}},"112":{"start":{"line":205,"column":6},"end":{"line":206,"column":84}},"113":{"start":{"line":209,"column":2},"end":{"line":209,"column":78}},"114":{"start":{"line":210,"column":2},"end":{"line":210,"column":73}},"115":{"start":{"line":211,"column":2},"end":{"line":211,"column":102}},"116":{"start":{"line":213,"column":2},"end":{"line":213,"column":18}},"117":{"start":{"line":215,"column":2},"end":{"line":215,"column":16}},"118":{"start":{"line":218,"column":0},"end":{"line":233,"column":1}},"119":{"start":{"line":219,"column":2},"end":{"line":219,"column":72}},"120":{"start":{"line":220,"column":2},"end":{"line":220,"column":31}},"121":{"start":{"line":222,"column":2},"end":{"line":230,"column":3}},"122":{"start":{"line":223,"column":4},"end":{"line":229,"column":5}},"123":{"start":{"line":224,"column":6},"end":{"line":224,"column":57}},"124":{"start":{"line":225,"column":6},"end":{"line":225,"column":141}},"125":{"start":{"line":226,"column":6},"end":{"line":226,"column":61}},"126":{"start":{"line":228,"column":6},"end":{"line":228,"column":50}},"127":{"start":{"line":232,"column":2},"end":{"line":232,"column":29}},"128":{"start":{"line":235,"column":0},"end":{"line":241,"column":1}},"129":{"start":{"line":237,"column":2},"end":{"line":237,"column":47}},"130":{"start":{"line":240,"column":2},"end":{"line":240,"column":84}},"131":{"start":{"line":243,"column":0},"end":{"line":271,"column":1}},"132":{"start":{"line":246,"column":2},"end":{"line":246,"column":77}},"133":{"start":{"line":248,"column":2},"end":{"line":270,"column":3}},"134":{"start":{"line":250,"column":4},"end":{"line":250,"column":54}},"135":{"start":{"line":253,"column":4},"end":{"line":253,"column":53}},"136":{"start":{"line":254,"column":4},"end":{"line":254,"column":66}},"137":{"start":{"line":256,"column":4},"end":{"line":257,"column":149}},"138":{"start":{"line":257,"column":6},"end":{"line":257,"column":149}},"139":{"start":{"line":260,"column":4},"end":{"line":260,"column":48}},"140":{"start":{"line":261,"column":4},"end":{"line":261,"column":59}},"141":{"start":{"line":263,"column":4},"end":{"line":263,"column":67}},"142":{"start":{"line":265,"column":4},"end":{"line":265,"column":87}},"143":{"start":{"line":266,"column":4},"end":{"line":266,"column":118}},"144":{"start":{"line":269,"column":4},"end":{"line":269,"column":48}},"145":{"start":{"line":273,"column":0},"end":{"line":307,"column":1}},"146":{"start":{"line":275,"column":4},"end":{"line":275,"column":75}},"147":{"start":{"line":277,"column":4},"end":{"line":306,"column":5}},"148":{"start":{"line":279,"column":8},"end":{"line":279,"column":55}},"149":{"start":{"line":282,"column":8},"end":{"line":282,"column":54}},"150":{"start":{"line":283,"column":8},"end":{"line":283,"column":50}},"151":{"start":{"line":284,"column":8},"end":{"line":284,"column":67}},"152":{"start":{"line":286,"column":8},"end":{"line":287,"column":151}},"153":{"start":{"line":287,"column":10},"end":{"line":287,"column":151}},"154":{"start":{"line":290,"column":8},"end":{"line":290,"column":61}},"155":{"start":{"line":292,"column":8},"end":{"line":292,"column":68}},"156":{"start":{"line":294,"column":8},"end":{"line":294,"column":98}},"157":{"start":{"line":296,"column":8},"end":{"line":301,"column":9}},"158":{"start":{"line":298,"column":10},"end":{"line":298,"column":88}},"159":{"start":{"line":300,"column":10},"end":{"line":300,"column":70}},"160":{"start":{"line":303,"column":8},"end":{"line":305,"column":9}},"161":{"start":{"line":304,"column":10},"end":{"line":304,"column":77}},"162":{"start":{"line":309,"column":0},"end":{"line":323,"column":1}},"163":{"start":{"line":310,"column":2},"end":{"line":322,"column":3}},"164":{"start":{"line":311,"column":4},"end":{"line":321,"column":5}},"165":{"start":{"line":312,"column":6},"end":{"line":312,"column":47}},"166":{"start":{"line":313,"column":6},"end":{"line":313,"column":79}},"167":{"start":{"line":314,"column":6},"end":{"line":314,"column":64}},"168":{"start":{"line":315,"column":6},"end":{"line":315,"column":86}},"169":{"start":{"line":316,"column":6},"end":{"line":316,"column":71}},"170":{"start":{"line":318,"column":6},"end":{"line":320,"column":7}},"171":{"start":{"line":319,"column":10},"end":{"line":319,"column":82}},"172":{"start":{"line":325,"column":0},"end":{"line":350,"column":1}},"173":{"start":{"line":326,"column":2},"end":{"line":349,"column":3}},"174":{"start":{"line":327,"column":4},"end":{"line":327,"column":59}},"175":{"start":{"line":329,"column":4},"end":{"line":332,"column":5}},"176":{"start":{"line":330,"column":6},"end":{"line":330,"column":43}},"177":{"start":{"line":331,"column":6},"end":{"line":331,"column":15}},"178":{"start":{"line":334,"column":4},"end":{"line":334,"column":85}},"179":{"start":{"line":335,"column":4},"end":{"line":335,"column":64}},"180":{"start":{"line":337,"column":4},"end":{"line":339,"column":5}},"181":{"start":{"line":338,"column":6},"end":{"line":338,"column":83}},"182":{"start":{"line":341,"column":4},"end":{"line":345,"column":5}},"183":{"start":{"line":342,"column":6},"end":{"line":342,"column":53}},"184":{"start":{"line":344,"column":6},"end":{"line":344,"column":88}},"185":{"start":{"line":347,"column":4},"end":{"line":347,"column":47}},"186":{"start":{"line":348,"column":4},"end":{"line":348,"column":72}},"187":{"start":{"line":352,"column":0},"end":{"line":374,"column":1}},"188":{"start":{"line":353,"column":2},"end":{"line":353,"column":21}},"189":{"start":{"line":354,"column":2},"end":{"line":373,"column":17}},"190":{"start":{"line":355,"column":6},"end":{"line":355,"column":25}},"191":{"start":{"line":358,"column":6},"end":{"line":368,"column":7}},"192":{"start":{"line":359,"column":10},"end":{"line":359,"column":54}},"193":{"start":{"line":360,"column":10},"end":{"line":360,"column":53}},"194":{"start":{"line":362,"column":10},"end":{"line":362,"column":72}},"195":{"start":{"line":364,"column":10},"end":{"line":364,"column":125}},"196":{"start":{"line":367,"column":10},"end":{"line":367,"column":54}},"197":{"start":{"line":371,"column":6},"end":{"line":372,"column":24}},"198":{"start":{"line":372,"column":8},"end":{"line":372,"column":24}},"199":{"start":{"line":376,"column":0},"end":{"line":424,"column":1}},"200":{"start":{"line":378,"column":2},"end":{"line":378,"column":49}},"201":{"start":{"line":380,"column":2},"end":{"line":423,"column":3}},"202":{"start":{"line":385,"column":4},"end":{"line":388,"column":7}},"203":{"start":{"line":394,"column":4},"end":{"line":394,"column":88}},"204":{"start":{"line":396,"column":4},"end":{"line":396,"column":62}},"205":{"start":{"line":399,"column":4},"end":{"line":400,"column":101}},"206":{"start":{"line":400,"column":6},"end":{"line":400,"column":101}},"207":{"start":{"line":400,"column":60},"end":{"line":400,"column":97}},"208":{"start":{"line":402,"column":4},"end":{"line":420,"column":7}},"209":{"start":{"line":405,"column":6},"end":{"line":419,"column":7}},"210":{"start":{"line":406,"column":8},"end":{"line":406,"column":81}},"211":{"start":{"line":409,"column":8},"end":{"line":409,"column":88}},"212":{"start":{"line":410,"column":8},"end":{"line":410,"column":74}},"213":{"start":{"line":411,"column":8},"end":{"line":411,"column":88}},"214":{"start":{"line":413,"column":8},"end":{"line":413,"column":103}},"215":{"start":{"line":413,"column":26},"end":{"line":413,"column":103}},"216":{"start":{"line":414,"column":8},"end":{"line":414,"column":82}},"217":{"start":{"line":414,"column":19},"end":{"line":414,"column":82}},"218":{"start":{"line":415,"column":8},"end":{"line":415,"column":103}},"219":{"start":{"line":415,"column":26},"end":{"line":415,"column":103}},"220":{"start":{"line":418,"column":8},"end":{"line":418,"column":38}},"221":{"start":{"line":422,"column":4},"end":{"line":422,"column":21}},"222":{"start":{"line":426,"column":0},"end":{"line":439,"column":1}},"223":{"start":{"line":427,"column":2},"end":{"line":427,"column":26}},"224":{"start":{"line":428,"column":2},"end":{"line":435,"column":3}},"225":{"start":{"line":429,"column":4},"end":{"line":429,"column":39}},"226":{"start":{"line":431,"column":4},"end":{"line":431,"column":47}},"227":{"start":{"line":432,"column":4},"end":{"line":432,"column":59}},"228":{"start":{"line":434,"column":4},"end":{"line":434,"column":52}},"229":{"start":{"line":437,"column":2},"end":{"line":437,"column":53}},"230":{"start":{"line":438,"column":2},"end":{"line":438,"column":34}},"231":{"start":{"line":441,"column":0},"end":{"line":444,"column":1}},"232":{"start":{"line":443,"column":2},"end":{"line":443,"column":34}},"233":{"start":{"line":446,"column":0},"end":{"line":466,"column":1}},"234":{"start":{"line":447,"column":2},"end":{"line":447,"column":26}},"235":{"start":{"line":448,"column":2},"end":{"line":462,"column":3}},"236":{"start":{"line":449,"column":4},"end":{"line":449,"column":39}},"237":{"start":{"line":451,"column":4},"end":{"line":453,"column":5}},"238":{"start":{"line":452,"column":6},"end":{"line":452,"column":61}},"239":{"start":{"line":455,"column":4},"end":{"line":461,"column":5}},"240":{"start":{"line":456,"column":6},"end":{"line":456,"column":66}},"241":{"start":{"line":457,"column":6},"end":{"line":460,"column":7}},"242":{"start":{"line":458,"column":8},"end":{"line":458,"column":63}},"243":{"start":{"line":459,"column":8},"end":{"line":459,"column":14}},"244":{"start":{"line":464,"column":2},"end":{"line":464,"column":56}},"245":{"start":{"line":465,"column":2},"end":{"line":465,"column":34}},"246":{"start":{"line":468,"column":0},"end":{"line":494,"column":1}},"247":{"start":{"line":469,"column":2},"end":{"line":469,"column":69}},"248":{"start":{"line":471,"column":2},"end":{"line":493,"column":3}},"249":{"start":{"line":472,"column":4},"end":{"line":472,"column":39}},"250":{"start":{"line":474,"column":4},"end":{"line":474,"column":47}},"251":{"start":{"line":475,"column":4},"end":{"line":475,"column":57}},"252":{"start":{"line":476,"column":4},"end":{"line":476,"column":56}},"253":{"start":{"line":478,"column":4},"end":{"line":482,"column":5}},"254":{"start":{"line":479,"column":6},"end":{"line":479,"column":106}},"255":{"start":{"line":481,"column":6},"end":{"line":481,"column":59}},"256":{"start":{"line":484,"column":4},"end":{"line":486,"column":7}},"257":{"start":{"line":485,"column":6},"end":{"line":485,"column":73}},"258":{"start":{"line":488,"column":4},"end":{"line":492,"column":34}},"259":{"start":{"line":496,"column":0},"end":{"line":505,"column":1}},"260":{"start":{"line":497,"column":2},"end":{"line":497,"column":33}},"261":{"start":{"line":499,"column":2},"end":{"line":502,"column":3}},"262":{"start":{"line":500,"column":4},"end":{"line":500,"column":59}},"263":{"start":{"line":501,"column":4},"end":{"line":501,"column":68}},"264":{"start":{"line":504,"column":2},"end":{"line":504,"column":75}},"265":{"start":{"line":507,"column":0},"end":{"line":579,"column":1}},"266":{"start":{"line":508,"column":2},"end":{"line":574,"column":3}},"267":{"start":{"line":510,"column":4},"end":{"line":512,"column":5}},"268":{"start":{"line":511,"column":6},"end":{"line":511,"column":36}},"269":{"start":{"line":514,"column":4},"end":{"line":540,"column":5}},"270":{"start":{"line":515,"column":6},"end":{"line":515,"column":44}},"271":{"start":{"line":517,"column":6},"end":{"line":517,"column":21}},"272":{"start":{"line":518,"column":6},"end":{"line":520,"column":7}},"273":{"start":{"line":519,"column":8},"end":{"line":519,"column":40}},"274":{"start":{"line":521,"column":6},"end":{"line":521,"column":24}},"275":{"start":{"line":522,"column":6},"end":{"line":535,"column":7}},"276":{"start":{"line":523,"column":8},"end":{"line":523,"column":62}},"277":{"start":{"line":524,"column":8},"end":{"line":528,"column":9}},"278":{"start":{"line":525,"column":10},"end":{"line":525,"column":51}},"279":{"start":{"line":526,"column":10},"end":{"line":526,"column":23}},"280":{"start":{"line":527,"column":10},"end":{"line":527,"column":16}},"281":{"start":{"line":530,"column":8},"end":{"line":534,"column":9}},"282":{"start":{"line":531,"column":10},"end":{"line":531,"column":51}},"283":{"start":{"line":532,"column":10},"end":{"line":532,"column":23}},"284":{"start":{"line":533,"column":10},"end":{"line":533,"column":16}},"285":{"start":{"line":537,"column":6},"end":{"line":539,"column":7}},"286":{"start":{"line":538,"column":8},"end":{"line":538,"column":46}},"287":{"start":{"line":541,"column":9},"end":{"line":574,"column":3}},"288":{"start":{"line":542,"column":4},"end":{"line":544,"column":5}},"289":{"start":{"line":543,"column":6},"end":{"line":543,"column":34}},"290":{"start":{"line":546,"column":4},"end":{"line":573,"column":5}},"291":{"start":{"line":547,"column":6},"end":{"line":547,"column":42}},"292":{"start":{"line":549,"column":6},"end":{"line":549,"column":21}},"293":{"start":{"line":550,"column":6},"end":{"line":552,"column":7}},"294":{"start":{"line":551,"column":8},"end":{"line":551,"column":40}},"295":{"start":{"line":554,"column":6},"end":{"line":554,"column":24}},"296":{"start":{"line":555,"column":6},"end":{"line":568,"column":7}},"297":{"start":{"line":556,"column":8},"end":{"line":556,"column":59}},"298":{"start":{"line":557,"column":8},"end":{"line":561,"column":9}},"299":{"start":{"line":558,"column":10},"end":{"line":558,"column":49}},"300":{"start":{"line":559,"column":10},"end":{"line":559,"column":23}},"301":{"start":{"line":560,"column":10},"end":{"line":560,"column":16}},"302":{"start":{"line":563,"column":8},"end":{"line":567,"column":9}},"303":{"start":{"line":564,"column":10},"end":{"line":564,"column":49}},"304":{"start":{"line":565,"column":10},"end":{"line":565,"column":23}},"305":{"start":{"line":566,"column":10},"end":{"line":566,"column":16}},"306":{"start":{"line":570,"column":6},"end":{"line":572,"column":7}},"307":{"start":{"line":571,"column":8},"end":{"line":571,"column":44}},"308":{"start":{"line":576,"column":2},"end":{"line":576,"column":66}},"309":{"start":{"line":577,"column":2},"end":{"line":577,"column":37}},"310":{"start":{"line":578,"column":2},"end":{"line":578,"column":57}},"311":{"start":{"line":582,"column":0},"end":{"line":589,"column":1}},"312":{"start":{"line":583,"column":2},"end":{"line":583,"column":98}},"313":{"start":{"line":584,"column":2},"end":{"line":584,"column":62}},"314":{"start":{"line":585,"column":2},"end":{"line":585,"column":62}},"315":{"start":{"line":586,"column":2},"end":{"line":586,"column":63}},"316":{"start":{"line":587,"column":2},"end":{"line":587,"column":62}},"317":{"start":{"line":588,"column":2},"end":{"line":588,"column":62}}},"branchMap":{"1":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":9},"end":{"line":28,"column":13}},{"start":{"line":28,"column":17},"end":{"line":28,"column":19}}]},"2":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":17},"end":{"line":52,"column":28}},{"start":{"line":52,"column":32},"end":{"line":52,"column":50}}]},"3":{"line":71,"type":"binary-expr","locations":[{"start":{"line":71,"column":30},"end":{"line":71,"column":44}},{"start":{"line":71,"column":48},"end":{"line":71,"column":53}}]},"4":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":2},"end":{"line":80,"column":2}},{"start":{"line":80,"column":2},"end":{"line":80,"column":2}}]},"5":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":2},"end":{"line":81,"column":2}},{"start":{"line":81,"column":2},"end":{"line":81,"column":2}}]},"6":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":2},"end":{"line":90,"column":2}},{"start":{"line":90,"column":2},"end":{"line":90,"column":2}}]},"7":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":21},"end":{"line":98,"column":40}},{"start":{"line":98,"column":44},"end":{"line":98,"column":46}}]},"8":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":2},"end":{"line":101,"column":2}},{"start":{"line":101,"column":2},"end":{"line":101,"column":2}}]},"9":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":2},"end":{"line":103,"column":2}},{"start":{"line":103,"column":2},"end":{"line":103,"column":2}}]},"10":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":2},"end":{"line":105,"column":2}},{"start":{"line":105,"column":2},"end":{"line":105,"column":2}}]},"11":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":14},"end":{"line":115,"column":35}},{"start":{"line":115,"column":39},"end":{"line":115,"column":58}}]},"12":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":10},"end":{"line":116,"column":27}},{"start":{"line":116,"column":31},"end":{"line":116,"column":32}}]},"13":{"line":117,"type":"binary-expr","locations":[{"start":{"line":117,"column":13},"end":{"line":117,"column":29}},{"start":{"line":117,"column":33},"end":{"line":117,"column":45}}]},"14":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":4}},{"start":{"line":142,"column":4},"end":{"line":142,"column":4}}]},"15":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":2},"end":{"line":159,"column":2}},{"start":{"line":159,"column":2},"end":{"line":159,"column":2}}]},"16":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":2},"end":{"line":172,"column":2}},{"start":{"line":172,"column":2},"end":{"line":172,"column":2}}]},"17":{"line":200,"type":"binary-expr","locations":[{"start":{"line":200,"column":24},"end":{"line":200,"column":42}},{"start":{"line":200,"column":46},"end":{"line":200,"column":71}},{"start":{"line":200,"column":76},"end":{"line":200,"column":77}}]},"18":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":2},"end":{"line":204,"column":2}},{"start":{"line":204,"column":2},"end":{"line":204,"column":2}}]},"19":{"line":209,"type":"binary-expr","locations":[{"start":{"line":209,"column":24},"end":{"line":209,"column":42}},{"start":{"line":209,"column":46},"end":{"line":209,"column":71}},{"start":{"line":209,"column":76},"end":{"line":209,"column":77}}]},"20":{"line":210,"type":"binary-expr","locations":[{"start":{"line":210,"column":23},"end":{"line":210,"column":39}},{"start":{"line":210,"column":43},"end":{"line":210,"column":66}},{"start":{"line":210,"column":71},"end":{"line":210,"column":72}}]},"21":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":2},"end":{"line":222,"column":2}},{"start":{"line":222,"column":2},"end":{"line":222,"column":2}}]},"22":{"line":237,"type":"binary-expr","locations":[{"start":{"line":237,"column":21},"end":{"line":237,"column":40}},{"start":{"line":237,"column":44},"end":{"line":237,"column":46}}]},"23":{"line":240,"type":"binary-expr","locations":[{"start":{"line":240,"column":20},"end":{"line":240,"column":37}},{"start":{"line":240,"column":41},"end":{"line":240,"column":53}}]},"24":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":4},"end":{"line":256,"column":4}},{"start":{"line":256,"column":4},"end":{"line":256,"column":4}}]},"25":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":8},"end":{"line":286,"column":8}},{"start":{"line":286,"column":8},"end":{"line":286,"column":8}}]},"26":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":8},"end":{"line":296,"column":8}},{"start":{"line":296,"column":8},"end":{"line":296,"column":8}}]},"27":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":8},"end":{"line":303,"column":8}},{"start":{"line":303,"column":8},"end":{"line":303,"column":8}}]},"28":{"line":311,"type":"if","locations":[{"start":{"line":311,"column":4},"end":{"line":311,"column":4}},{"start":{"line":311,"column":4},"end":{"line":311,"column":4}}]},"29":{"line":311,"type":"binary-expr","locations":[{"start":{"line":311,"column":8},"end":{"line":311,"column":54}},{"start":{"line":311,"column":58},"end":{"line":311,"column":118}}]},"30":{"line":318,"type":"if","locations":[{"start":{"line":318,"column":6},"end":{"line":318,"column":6}},{"start":{"line":318,"column":6},"end":{"line":318,"column":6}}]},"31":{"line":329,"type":"if","locations":[{"start":{"line":329,"column":4},"end":{"line":329,"column":4}},{"start":{"line":329,"column":4},"end":{"line":329,"column":4}}]},"32":{"line":337,"type":"if","locations":[{"start":{"line":337,"column":4},"end":{"line":337,"column":4}},{"start":{"line":337,"column":4},"end":{"line":337,"column":4}}]},"33":{"line":341,"type":"if","locations":[{"start":{"line":341,"column":4},"end":{"line":341,"column":4}},{"start":{"line":341,"column":4},"end":{"line":341,"column":4}}]},"34":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":6},"end":{"line":371,"column":6}},{"start":{"line":371,"column":6},"end":{"line":371,"column":6}}]},"35":{"line":371,"type":"binary-expr","locations":[{"start":{"line":371,"column":10},"end":{"line":371,"column":32}},{"start":{"line":371,"column":36},"end":{"line":371,"column":52}}]},"36":{"line":380,"type":"if","locations":[{"start":{"line":380,"column":2},"end":{"line":380,"column":2}},{"start":{"line":380,"column":2},"end":{"line":380,"column":2}}]},"37":{"line":394,"type":"binary-expr","locations":[{"start":{"line":394,"column":61},"end":{"line":394,"column":70}},{"start":{"line":394,"column":74},"end":{"line":394,"column":85}}]},"38":{"line":399,"type":"if","locations":[{"start":{"line":399,"column":4},"end":{"line":399,"column":4}},{"start":{"line":399,"column":4},"end":{"line":399,"column":4}}]},"39":{"line":405,"type":"if","locations":[{"start":{"line":405,"column":6},"end":{"line":405,"column":6}},{"start":{"line":405,"column":6},"end":{"line":405,"column":6}}]},"40":{"line":413,"type":"if","locations":[{"start":{"line":413,"column":8},"end":{"line":413,"column":8}},{"start":{"line":413,"column":8},"end":{"line":413,"column":8}}]},"41":{"line":414,"type":"if","locations":[{"start":{"line":414,"column":8},"end":{"line":414,"column":8}},{"start":{"line":414,"column":8},"end":{"line":414,"column":8}}]},"42":{"line":415,"type":"if","locations":[{"start":{"line":415,"column":8},"end":{"line":415,"column":8}},{"start":{"line":415,"column":8},"end":{"line":415,"column":8}}]},"43":{"line":451,"type":"if","locations":[{"start":{"line":451,"column":4},"end":{"line":451,"column":4}},{"start":{"line":451,"column":4},"end":{"line":451,"column":4}}]},"44":{"line":457,"type":"if","locations":[{"start":{"line":457,"column":6},"end":{"line":457,"column":6}},{"start":{"line":457,"column":6},"end":{"line":457,"column":6}}]},"45":{"line":469,"type":"binary-expr","locations":[{"start":{"line":469,"column":21},"end":{"line":469,"column":52}},{"start":{"line":469,"column":56},"end":{"line":469,"column":68}}]},"46":{"line":469,"type":"binary-expr","locations":[{"start":{"line":469,"column":22},"end":{"line":469,"column":41}},{"start":{"line":469,"column":45},"end":{"line":469,"column":47}}]},"47":{"line":478,"type":"if","locations":[{"start":{"line":478,"column":4},"end":{"line":478,"column":4}},{"start":{"line":478,"column":4},"end":{"line":478,"column":4}}]},"48":{"line":508,"type":"if","locations":[{"start":{"line":508,"column":2},"end":{"line":508,"column":2}},{"start":{"line":508,"column":2},"end":{"line":508,"column":2}}]},"49":{"line":510,"type":"if","locations":[{"start":{"line":510,"column":4},"end":{"line":510,"column":4}},{"start":{"line":510,"column":4},"end":{"line":510,"column":4}}]},"50":{"line":514,"type":"if","locations":[{"start":{"line":514,"column":4},"end":{"line":514,"column":4}},{"start":{"line":514,"column":4},"end":{"line":514,"column":4}}]},"51":{"line":518,"type":"if","locations":[{"start":{"line":518,"column":6},"end":{"line":518,"column":6}},{"start":{"line":518,"column":6},"end":{"line":518,"column":6}}]},"52":{"line":524,"type":"if","locations":[{"start":{"line":524,"column":8},"end":{"line":524,"column":8}},{"start":{"line":524,"column":8},"end":{"line":524,"column":8}}]},"53":{"line":530,"type":"if","locations":[{"start":{"line":530,"column":8},"end":{"line":530,"column":8}},{"start":{"line":530,"column":8},"end":{"line":530,"column":8}}]},"54":{"line":530,"type":"binary-expr","locations":[{"start":{"line":530,"column":12},"end":{"line":530,"column":22}},{"start":{"line":530,"column":27},"end":{"line":530,"column":67}}]},"55":{"line":537,"type":"if","locations":[{"start":{"line":537,"column":6},"end":{"line":537,"column":6}},{"start":{"line":537,"column":6},"end":{"line":537,"column":6}}]},"56":{"line":541,"type":"if","locations":[{"start":{"line":541,"column":9},"end":{"line":541,"column":9}},{"start":{"line":541,"column":9},"end":{"line":541,"column":9}}]},"57":{"line":542,"type":"if","locations":[{"start":{"line":542,"column":4},"end":{"line":542,"column":4}},{"start":{"line":542,"column":4},"end":{"line":542,"column":4}}]},"58":{"line":546,"type":"if","locations":[{"start":{"line":546,"column":4},"end":{"line":546,"column":4}},{"start":{"line":546,"column":4},"end":{"line":546,"column":4}}]},"59":{"line":550,"type":"if","locations":[{"start":{"line":550,"column":6},"end":{"line":550,"column":6}},{"start":{"line":550,"column":6},"end":{"line":550,"column":6}}]},"60":{"line":557,"type":"if","locations":[{"start":{"line":557,"column":8},"end":{"line":557,"column":8}},{"start":{"line":557,"column":8},"end":{"line":557,"column":8}}]},"61":{"line":563,"type":"if","locations":[{"start":{"line":563,"column":8},"end":{"line":563,"column":8}},{"start":{"line":563,"column":8},"end":{"line":563,"column":8}}]},"62":{"line":563,"type":"binary-expr","locations":[{"start":{"line":563,"column":12},"end":{"line":563,"column":22}},{"start":{"line":563,"column":27},"end":{"line":563,"column":65}}]},"63":{"line":570,"type":"if","locations":[{"start":{"line":570,"column":6},"end":{"line":570,"column":6}},{"start":{"line":570,"column":6},"end":{"line":570,"column":6}}]}},"code":["var path = require('path');","var fs = require('fs');","var uuid = require(\"hap-nodejs\").uuid;","var accessoryStorage = require('node-persist').create();","var Bridge = require(\"hap-nodejs\").Bridge;","var Accessory = require(\"hap-nodejs\").Accessory;","var Service = require(\"hap-nodejs\").Service;","var Characteristic = require(\"hap-nodejs\").Characteristic;","var AccessoryLoader = require(\"hap-nodejs\").AccessoryLoader;","var once = require(\"hap-nodejs/lib/util/once\").once;","var Plugin = require('./plugin').Plugin;","var User = require('./user').User;","var API = require('./api').API;","var PlatformAccessory = require(\"./platformAccessory\").PlatformAccessory;","var BridgeSetupManager = require(\"./bridgeSetupManager\").BridgeSetupManager;","var log = require(\"./logger\")._system;","var Logger = require('./logger').Logger;","var mac = require(\"./util/mac\");","var chalk = require('chalk');","","'use strict';","","module.exports = {","  Server: Server","}","","function Server(insecureAccess, opts) {","  opts = opts || {};","","  // Setup Accessory Cache Storage","  accessoryStorage.initSync({ dir: User.cachedAccessoryPath() });","","  this._api = new API(); // object we feed to Plugins","","  this._api.on('registerPlatformAccessories', function(accessories) {","    this._handleRegisterPlatformAccessories(accessories);","  }.bind(this));","","  this._api.on('updatePlatformAccessories', function(accessories) {","    this._handleUpdatePlatformAccessories(accessories);","  }.bind(this));","","  this._api.on('unregisterPlatformAccessories', function(accessories) {","    this._handleUnregisterPlatformAccessories(accessories);","  }.bind(this));","","  this._api.on('publishCameraAccessories', function(accessories) {","    this._handlePublishCameraAccessories(accessories);","  }.bind(this));","","  this._plugins = this._loadPlugins(); // plugins[name] = Plugin instance","  this._config = opts.config || this._loadConfig();","  this._cachedPlatformAccessories = this._loadCachedPlatformAccessories();","  this._bridge = this._createBridge();","","  this._activeDynamicPlugins = {};","  this._configurablePlatformPlugins = {};","  this._publishedCameras = {};","  this._setupManager = new BridgeSetupManager();","  this._setupManager.on('newConfig', this._handleNewConfig.bind(this));","","  this._setupManager.on('requestCurrentConfig', function(callback) {","    callback(this._config);","  }.bind(this));","","  // Server is \"secure by default\", meaning it creates a top-level Bridge accessory that","  // will not allow unauthenticated requests. This matches the behavior of actual HomeKit","  // accessories. However you can set this to true to allow all requests without authentication,","  // which can be useful for easy hacking. Note that this will expose all functions of your","  // bridged accessories, like changing charactersitics (i.e. flipping your lights on and off).","  this._allowInsecureAccess = insecureAccess || false;","}","","Server.prototype.run = function() {","","  // keep track of async calls we're waiting for callbacks on before we can start up","  this._asyncCalls = 0;","  this._asyncWait = true;","","  if (this._config.platforms) this._loadPlatforms();","  if (this._config.accessories) this._loadAccessories();","  this._loadDynamicPlatforms();","  this._configCachedPlatformAccessories();","  this._setupManager.configurablePlatformPlugins = this._configurablePlatformPlugins;","  this._bridge.addService(this._setupManager.service);","","  this._asyncWait = false;","","  // publish now unless we're waiting on anyone","  if (this._asyncCalls == 0)","    this._publish();","","  this._api.emit('didFinishLaunching');","}","","Server.prototype._publish = function() {","  // pull out our custom Bridge settings from config.json, if any","  var bridgeConfig = this._config.bridge || {};","","  var info = this._bridge.getService(Service.AccessoryInformation);","  if (bridgeConfig.manufacturer)","    info.setCharacteristic(Characteristic.Manufacturer, bridgeConfig.manufacturer);","  if (bridgeConfig.model)","    info.setCharacteristic(Characteristic.Model, bridgeConfig.model);","  if (bridgeConfig.serialNumber)","    info.setCharacteristic(Characteristic.SerialNumber, bridgeConfig.serialNumber);","","  this._printPin(bridgeConfig.pin);","","  this._bridge.on('listening', function(port) {","    log.info(\"Homebridge is running on port %s.\", port);","  });","","  this._bridge.publish({","    username: bridgeConfig.username || \"CC:22:3D:E3:CE:30\",","    port: bridgeConfig.port || 0,","    pincode: bridgeConfig.pin || \"031-45-154\",","    category: Accessory.Categories.BRIDGE","  }, this._allowInsecureAccess);","}","","Server.prototype._loadPlugins = function(accessories, platforms) {","","  var plugins = {};","  var foundOnePlugin = false;","","  // load and validate plugins - check for valid package.json, etc.","  Plugin.installed().forEach(function(plugin) {","","    // attempt to load it","    try {","      plugin.load();","    }","    catch (err) {","      log.error(\"====================\")","      log.error(\"ERROR LOADING PLUGIN \" + plugin.name() + \":\")","      log.error(err.stack);","      log.error(\"====================\")","      plugin.loadError = err;","    }","","    if (!plugin.loadError) {","","      // add it to our dict for easy lookup later","      plugins[plugin.name()] = plugin;","","      log.info(\"Loaded plugin: \" + plugin.name());","","      // call the plugin's initializer and pass it our API instance","      plugin.initializer(this._api);","","      log.info(\"---\");","      foundOnePlugin = true;","    }","","  }.bind(this));","","  // Complain if you don't have any plugins.","  if (!foundOnePlugin) {","    log.warn(\"No plugins found. See the README for information on installing plugins.\")","  }","","  return plugins;","}","","Server.prototype._loadConfig = function() {","","  // Look for the configuration file","  var configPath = User.configPath();","","  // Complain and exit if it doesn't exist yet","  if (!fs.existsSync(configPath)) {","    log.warn(\"config.json (%s) not found.\", configPath);","","    var config = {};","","    config.bridge = {","      \"name\": \"Homebridge\",","      \"username\": \"CC:22:3D:E3:CE:30\",","      \"pin\": \"031-45-154\"","    };","","    return config;","      // log.error(\"Couldn't find a config.json file at '\"+configPath+\"'. Look at config-sample.json for examples of how to format your config.js and add your home accessories.\");","      // process.exit(1);","  }","","  // Load up the configuration file","  var config;","  try {","    config = JSON.parse(fs.readFileSync(configPath));","  }","  catch (err) {","    log.error(\"There was a problem reading your config.json file.\");","    log.error(\"Please try pasting your config.json file here to validate it: http://jsonlint.com\");","    log.error(\"\");","    throw err;","  }","","  var accessoryCount = (config.accessories && config.accessories.length) || 0;","","  var username = config.bridge.username;","  var validMac = /^([0-9A-F]{2}:){5}([0-9A-F]{2})$/;","  if (!validMac.test(username)){","      throw new Error('Not a valid username: ' + username + '. Must be 6 pairs of colon-' +","                      'separated hexadecimal chars (A-F 0-9), like a MAC address.');","  }","","  var accessoryCount = (config.accessories && config.accessories.length) || 0;","  var platformCount = (config.platforms && config.platforms.length) || 0;","  log.info(\"Loaded config.json with %s accessories and %s platforms.\", accessoryCount, platformCount);","","  log.info(\"---\");","","  return config;","}","","Server.prototype._loadCachedPlatformAccessories = function() {","  var cachedAccessories = accessoryStorage.getItem(\"cachedAccessories\");","  var platformAccessories = [];","","  if (cachedAccessories) {","    for (var index in cachedAccessories) {","      var serializedAccessory = cachedAccessories[index];","      var platformAccessory = new PlatformAccessory(serializedAccessory.displayName, serializedAccessory.UUID, serializedAccessory.category);","      platformAccessory._configFromData(serializedAccessory);","","      platformAccessories.push(platformAccessory);","    }","  }","","  return platformAccessories;","}","","Server.prototype._createBridge = function() {","  // pull out our custom Bridge settings from config.json, if any","  var bridgeConfig = this._config.bridge || {};","","  // Create our Bridge which will host all loaded Accessories","  return new Bridge(bridgeConfig.name || 'Homebridge', uuid.generate(\"HomeBridge\"));","}","","Server.prototype._loadAccessories = function() {","","  // Instantiate all accessories in the config","  log.info(\"Loading \" + this._config.accessories.length + \" accessories...\");","","  for (var i=0; i<this._config.accessories.length; i++) {","","    var accessoryConfig = this._config.accessories[i];","","    // Load up the class for this accessory","    var accessoryType = accessoryConfig[\"accessory\"]; // like \"Lockitron\"","    var accessoryConstructor = this._api.accessory(accessoryType); // like \"LockitronAccessory\", a JavaScript constructor","","    if (!accessoryConstructor)","      throw new Error(\"Your config.json is requesting the accessory '\" + accessoryType + \"' which has not been published by any installed plugins.\");","","    // Create a custom logging function that prepends the device display name for debugging","    var accessoryName = accessoryConfig[\"name\"];","    var accessoryLogger = Logger.withPrefix(accessoryName);","","    accessoryLogger(\"Initializing %s accessory...\", accessoryType);","","    var accessoryInstance = new accessoryConstructor(accessoryLogger, accessoryConfig);","    var accessory = this._createAccessory(accessoryInstance, accessoryName, accessoryType, accessoryConfig.uuid_base);  //pass accessoryType for UUID generation, and optional parameter uuid_base which can be used instead of displayName for UUID generation","","    // add it to the bridge","    this._bridge.addBridgedAccessory(accessory);","  }","}","","Server.prototype._loadPlatforms = function() {","","    log.info(\"Loading \" + this._config.platforms.length + \" platforms...\");","","    for (var i=0; i<this._config.platforms.length; i++) {","","        var platformConfig = this._config.platforms[i];","","        // Load up the class for this accessory","        var platformType = platformConfig[\"platform\"]; // like \"Wink\"","        var platformName = platformConfig[\"name\"];","        var platformConstructor = this._api.platform(platformType); // like \"WinkPlatform\", a JavaScript constructor","","        if (!platformConstructor)","          throw new Error(\"Your config.json is requesting the platform '\" + platformType + \"' which has not been published by any installed plugins.\");","","        // Create a custom logging function that prepends the platform name for debugging","        var platformLogger = Logger.withPrefix(platformName);","","        platformLogger(\"Initializing %s platform...\", platformType);","","        var platformInstance = new platformConstructor(platformLogger, platformConfig, this._api);","","        if (platformInstance.configureAccessory == undefined) {","          // Plugin 1.0, load accessories","          this._loadPlatformAccessories(platformInstance, platformLogger, platformType);","        } else {","          this._activeDynamicPlugins[platformType] = platformInstance;","        }","","        if (platformInstance.configurationRequestHandler != undefined) {","          this._configurablePlatformPlugins[platformType] = platformInstance;","        }","    }","}","","Server.prototype._loadDynamicPlatforms = function() {","  for (var dynamicPluginName in this._api._dynamicPlatforms) {","    if (!this._activeDynamicPlugins[dynamicPluginName] && !this._activeDynamicPlugins[dynamicPluginName.split(\".\")[1]]) {","      console.log(\"Load \" + dynamicPluginName);","      var platformConstructor = this._api._dynamicPlatforms[dynamicPluginName];","      var platformLogger = Logger.withPrefix(dynamicPluginName);","      var platformInstance = new platformConstructor(platformLogger, null, this._api);","      this._activeDynamicPlugins[dynamicPluginName] = platformInstance;","","      if (platformInstance.configurationRequestHandler != undefined) {","          this._configurablePlatformPlugins[dynamicPluginName] = platformInstance;","      }","    }","  }","}","","Server.prototype._configCachedPlatformAccessories = function() {","  for (var index in this._cachedPlatformAccessories) {","    var accessory = this._cachedPlatformAccessories[index];","","    if (!(accessory instanceof PlatformAccessory)) {","      console.log(\"Unexpected Accessory!\");","      continue;","    }","","    var fullName = accessory._associatedPlugin + \".\" + accessory._associatedPlatform;","    var platformInstance = this._activeDynamicPlugins[fullName];","","    if (!platformInstance) {","      platformInstance = this._activeDynamicPlugins[accessory._associatedPlatform];","    }","","    if (platformInstance) {","      platformInstance.configureAccessory(accessory);","    } else {","      console.log(\"Failed to find plugin to handle accessory \" + accessory.displayName);","    }","","    accessory._prepareAssociatedHAPAccessory();","    this._bridge.addBridgedAccessory(accessory._associatedHAPAccessory);","  }","}","","Server.prototype._loadPlatformAccessories = function(platformInstance, log, platformType) {","  this._asyncCalls++;","  platformInstance.accessories(once(function(foundAccessories){","      this._asyncCalls--;","","      // loop through accessories adding them to the list and registering them","      for (var i = 0; i < foundAccessories.length; i++) {","          var accessoryInstance = foundAccessories[i];","          var accessoryName = accessoryInstance.name; // assume this property was set","","          log(\"Initializing platform accessory '%s'...\", accessoryName);","","          var accessory = this._createAccessory(accessoryInstance, accessoryName, platformType, accessoryInstance.uuid_base);","","          // add it to the bridge","          this._bridge.addBridgedAccessory(accessory);","      }","","      // were we the last callback?","      if (this._asyncCalls === 0 && !this._asyncWait)","        this._publish();","  }.bind(this)));","}","","Server.prototype._createAccessory = function(accessoryInstance, displayName, accessoryType, uuid_base) {","","  var services = accessoryInstance.getServices();","","  if (!(services[0] instanceof Service)) {","    // The returned \"services\" for this accessory is assumed to be the old style: a big array","    // of JSON-style objects that will need to be parsed by HAP-NodeJS's AccessoryLoader.","","    // Create the actual HAP-NodeJS \"Accessory\" instance","    return AccessoryLoader.parseAccessoryJSON({","      displayName: displayName,","      services: services","    });","  }","  else {","    // The returned \"services\" for this accessory are simply an array of new-API-style","    // Service instances which we can add to a created HAP-NodeJS Accessory directly.","","    var accessoryUUID = uuid.generate(accessoryType + \":\" + (uuid_base || displayName));","","    var accessory = new Accessory(displayName, accessoryUUID);","","    // listen for the identify event if the accessory instance has defined an identify() method","    if (accessoryInstance.identify)","      accessory.on('identify', function(paired, callback) { accessoryInstance.identify(callback); });","","    services.forEach(function(service) {","","      // if you returned an AccessoryInformation service, merge its values with ours","      if (service instanceof Service.AccessoryInformation) {","        var existingService = accessory.getService(Service.AccessoryInformation);","","        // pull out any values you may have defined","        var manufacturer = service.getCharacteristic(Characteristic.Manufacturer).value;","        var model = service.getCharacteristic(Characteristic.Model).value;","        var serialNumber = service.getCharacteristic(Characteristic.SerialNumber).value;","","        if (manufacturer) existingService.setCharacteristic(Characteristic.Manufacturer, manufacturer);","        if (model) existingService.setCharacteristic(Characteristic.Model, model);","        if (serialNumber) existingService.setCharacteristic(Characteristic.SerialNumber, serialNumber);","      }","      else {","        accessory.addService(service);","      }","    });","","    return accessory;","  }","}","","Server.prototype._handleRegisterPlatformAccessories = function(accessories) {","  var hapAccessories = [];","  for (var index in accessories) {","    var accessory = accessories[index];","","    accessory._prepareAssociatedHAPAccessory();","    hapAccessories.push(accessory._associatedHAPAccessory);","","    this._cachedPlatformAccessories.push(accessory);","  }","","  this._bridge.addBridgedAccessories(hapAccessories);","  this._updateCachedAccessories();","}","","Server.prototype._handleUpdatePlatformAccessories = function(accessories) {","  // Update persisted accessories","  this._updateCachedAccessories();","}","","Server.prototype._handleUnregisterPlatformAccessories = function(accessories) {","  var hapAccessories = [];","  for (var index in accessories) {","    var accessory = accessories[index];","","    if (accessory._associatedHAPAccessory) {","      hapAccessories.push(accessory._associatedHAPAccessory);","    }","","    for (var targetIndex in this._cachedPlatformAccessories) {","      var existing = this._cachedPlatformAccessories[targetIndex];","      if (existing.UUID === accessory.UUID) {","        this._cachedPlatformAccessories.splice(targetIndex, 1);","        break;","      }","    }","  }","","  this._bridge.removeBridgedAccessories(hapAccessories);","  this._updateCachedAccessories();","}","","Server.prototype._handlePublishCameraAccessories = function(accessories) {","  var accessoryPin = (this._config.bridge || {}).pin || \"031-45-154\";","","  for (var index in accessories) {","    var accessory = accessories[index];","","    accessory._prepareAssociatedHAPAccessory();","    var hapAccessory = accessory._associatedHAPAccessory;","    var advertiseAddress = mac.generate(accessory.UUID);","","    if (this._publishedCameras[advertiseAddress]) {","      throw new Error(\"Camera accessory \" + accessory.displayName + \" experienced an address collision.\");","    } else {","      this._publishedCameras[advertiseAddress] = accessory;","    }","","    hapAccessory.on('listening', function(port) {","      log.info(\"%s is running on port %s.\", accessory.displayName, port);","    });","","    hapAccessory.publish({","      username: advertiseAddress,","      pincode: accessoryPin,","      category: accessory.category","    }, this._allowInsecureAccess);","  }","}","","Server.prototype._updateCachedAccessories = function() {","  var serializedAccessories = [];","","  for (var index in this._cachedPlatformAccessories) {","    var accessory = this._cachedPlatformAccessories[index];","    serializedAccessories.push(accessory._dictionaryPresentation());","  }","","  accessoryStorage.setItemSync(\"cachedAccessories\", serializedAccessories);","}","","Server.prototype._handleNewConfig = function(type, name, replace, config) {","  if (type === \"accessory\") {","    // TODO: Load new accessory","    if (!this._config.accessories) {","      this._config.accessories = [];","    }","","    if (!replace) {","      this._config.accessories.push(config);","    } else {","      var targetName;","      if (name.indexOf('.') !== -1) {","        targetName = name.split(\".\")[1];","      }","      var found = false;","      for (var index in this._config.accessories) {","        var accessoryConfig = this._config.accessories[index];","        if (accessoryConfig.accessory === name) {","          this._config.accessories[index] = config;","          found = true;","          break;","        }","","        if (targetName && (accessoryConfig.accessory === targetName)) {","          this._config.accessories[index] = config;","          found = true;","          break;","        }","      }","","      if (!found) {","        this._config.accessories.push(config);","      }","    }","  } else if (type === \"platform\") {","    if (!this._config.platforms) {","      this._config.platforms = [];","    }","","    if (!replace) {","      this._config.platforms.push(config);","    } else {","      var targetName;","      if (name.indexOf('.') !== -1) {","        targetName = name.split(\".\")[1];","      }","","      var found = false;","      for (var index in this._config.platforms) {","        var platformConfig = this._config.platforms[index];","        if (platformConfig.platform === name) {","          this._config.platforms[index] = config;","          found = true;","          break;","        }","","        if (targetName && (platformConfig.platform === targetName)) {","          this._config.platforms[index] = config;","          found = true;","          break;","        }","      }","","      if (!found) {","        this._config.platforms.push(config);","      }","    }","  }","","  var serializedConfig = JSON.stringify(this._config, null, '  ');","  var configPath = User.configPath();","  fs.writeFileSync(configPath, serializedConfig, 'utf8');","}","","// Returns the setup code in a scannable format.","Server.prototype._printPin = function(pin) {","  console.log(\"Scan this code with your HomeKit App on your iOS device to pair with Homebridge:\");","  console.log(chalk.black.bgWhite(\"                       \"));","  console.log(chalk.black.bgWhite(\"         \"));","  console.log(chalk.black.bgWhite(\"     \" + pin + \"      \"));","  console.log(chalk.black.bgWhite(\"         \"));","  console.log(chalk.black.bgWhite(\"                       \"));","}",""],"l":{"1":2,"2":2,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":0,"23":0,"27":1,"28":0,"31":0,"33":0,"35":0,"36":0,"39":0,"40":0,"43":0,"44":0,"47":0,"48":0,"51":0,"52":0,"53":0,"54":0,"56":0,"57":0,"58":0,"59":0,"60":0,"62":0,"63":0,"71":0,"74":0,"77":0,"78":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"87":0,"90":0,"91":0,"93":0,"96":0,"98":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"108":0,"110":0,"111":0,"114":0,"122":0,"124":0,"125":0,"128":0,"131":0,"132":0,"135":0,"136":0,"137":0,"138":0,"139":0,"142":0,"145":0,"147":0,"150":0,"152":0,"153":0,"159":0,"160":0,"163":0,"166":0,"169":0,"172":0,"173":0,"175":0,"177":0,"183":0,"189":0,"190":0,"191":0,"194":0,"195":0,"196":0,"197":0,"200":0,"202":0,"203":0,"204":0,"205":0,"209":0,"210":0,"211":0,"213":0,"215":0,"218":0,"219":0,"220":0,"222":0,"223":0,"224":0,"225":0,"226":0,"228":0,"232":0,"235":0,"237":0,"240":0,"243":0,"246":0,"248":0,"250":0,"253":0,"254":0,"256":0,"257":0,"260":0,"261":0,"263":0,"265":0,"266":0,"269":0,"273":0,"275":0,"277":0,"279":0,"282":0,"283":0,"284":0,"286":0,"287":0,"290":0,"292":0,"294":0,"296":0,"298":0,"300":0,"303":0,"304":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"318":0,"319":0,"325":0,"326":0,"327":0,"329":0,"330":0,"331":0,"334":0,"335":0,"337":0,"338":0,"341":0,"342":0,"344":0,"347":0,"348":0,"352":0,"353":0,"354":0,"355":0,"358":0,"359":0,"360":0,"362":0,"364":0,"367":0,"371":0,"372":0,"376":0,"378":0,"380":0,"385":0,"394":0,"396":0,"399":0,"400":0,"402":0,"405":0,"406":0,"409":0,"410":0,"411":0,"413":0,"414":0,"415":0,"418":0,"422":0,"426":0,"427":0,"428":0,"429":0,"431":0,"432":0,"434":0,"437":0,"438":0,"441":0,"443":0,"446":0,"447":0,"448":0,"449":0,"451":0,"452":0,"455":0,"456":0,"457":0,"458":0,"459":0,"464":0,"465":0,"468":0,"469":0,"471":0,"472":0,"474":0,"475":0,"476":0,"478":0,"479":0,"481":0,"484":0,"485":0,"488":0,"496":0,"497":0,"499":0,"500":0,"501":0,"504":0,"507":0,"508":0,"510":0,"511":0,"514":0,"515":0,"517":0,"518":0,"519":0,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"527":0,"530":0,"531":0,"532":0,"533":0,"537":0,"538":0,"541":0,"542":0,"543":0,"546":0,"547":0,"549":0,"550":0,"551":0,"554":0,"555":0,"556":0,"557":0,"558":0,"559":0,"560":0,"563":0,"564":0,"565":0,"566":0,"570":0,"571":0,"576":0,"577":0,"578":0,"582":0,"583":0,"584":0,"585":0,"586":0,"587":0,"588":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/devPlugins/homebridge-suncalc/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/devPlugins/homebridge-suncalc/index.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":22},"end":{"line":12,"column":33}}},"2":{"name":"(anonymous_2)","line":25,"loc":{"start":{"line":25,"column":21},"end":{"line":25,"column":32}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":18},"end":{"line":35,"column":49}}},"4":{"name":"(anonymous_4)","line":52,"loc":{"start":{"line":52,"column":15},"end":{"line":52,"column":29}}},"5":{"name":"(anonymous_5)","line":81,"loc":{"start":{"line":81,"column":27},"end":{"line":81,"column":30}}},"6":{"name":"(anonymous_6)","line":174,"loc":{"start":{"line":174,"column":15},"end":{"line":174,"column":18}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"3":{"start":{"line":6,"column":0},"end":{"line":180,"column":2}},"4":{"start":{"line":7,"column":2},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":41}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":45}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":35}},"8":{"start":{"line":12,"column":2},"end":{"line":22,"column":4}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":94}},"10":{"start":{"line":14,"column":4},"end":{"line":20,"column":7}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":40}},"12":{"start":{"line":23,"column":2},"end":{"line":23,"column":40}},"13":{"start":{"line":25,"column":2},"end":{"line":32,"column":4}},"14":{"start":{"line":26,"column":4},"end":{"line":26,"column":93}},"15":{"start":{"line":27,"column":4},"end":{"line":30,"column":7}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":40}},"17":{"start":{"line":33,"column":2},"end":{"line":33,"column":39}},"18":{"start":{"line":35,"column":2},"end":{"line":48,"column":3}},"19":{"start":{"line":36,"column":3},"end":{"line":36,"column":84}},"20":{"start":{"line":39,"column":3},"end":{"line":39,"column":39}},"21":{"start":{"line":40,"column":3},"end":{"line":40,"column":38}},"22":{"start":{"line":43,"column":3},"end":{"line":43,"column":63}},"23":{"start":{"line":44,"column":3},"end":{"line":44,"column":62}},"24":{"start":{"line":45,"column":3},"end":{"line":45,"column":65}},"25":{"start":{"line":46,"column":3},"end":{"line":46,"column":67}},"26":{"start":{"line":47,"column":3},"end":{"line":47,"column":55}},"27":{"start":{"line":49,"column":1},"end":{"line":49,"column":28}},"28":{"start":{"line":53,"column":6},"end":{"line":57,"column":7}},"29":{"start":{"line":56,"column":8},"end":{"line":56,"column":72}},"30":{"start":{"line":59,"column":3},"end":{"line":59,"column":28}},"31":{"start":{"line":60,"column":3},"end":{"line":60,"column":29}},"32":{"start":{"line":62,"column":6},"end":{"line":66,"column":7}},"33":{"start":{"line":63,"column":7},"end":{"line":63,"column":32}},"34":{"start":{"line":65,"column":7},"end":{"line":65,"column":55}},"35":{"start":{"line":68,"column":6},"end":{"line":72,"column":7}},"36":{"start":{"line":69,"column":7},"end":{"line":69,"column":33}},"37":{"start":{"line":71,"column":7},"end":{"line":71,"column":57}},"38":{"start":{"line":74,"column":6},"end":{"line":74,"column":38}},"39":{"start":{"line":76,"column":3},"end":{"line":76,"column":43}},"40":{"start":{"line":77,"column":5},"end":{"line":77,"column":20}},"41":{"start":{"line":78,"column":6},"end":{"line":78,"column":37}},"42":{"start":{"line":82,"column":6},"end":{"line":82,"column":33}},"43":{"start":{"line":83,"column":6},"end":{"line":83,"column":36}},"44":{"start":{"line":85,"column":6},"end":{"line":89,"column":8}},"45":{"start":{"line":90,"column":6},"end":{"line":101,"column":8}},"46":{"start":{"line":103,"column":6},"end":{"line":103,"column":21}},"47":{"start":{"line":104,"column":3},"end":{"line":104,"column":15}},"48":{"start":{"line":105,"column":6},"end":{"line":105,"column":21}},"49":{"start":{"line":106,"column":3},"end":{"line":106,"column":18}},"50":{"start":{"line":108,"column":3},"end":{"line":159,"column":4}},"51":{"start":{"line":110,"column":4},"end":{"line":110,"column":104}},"52":{"start":{"line":111,"column":5},"end":{"line":111,"column":28}},"53":{"start":{"line":112,"column":2},"end":{"line":112,"column":13}},"54":{"start":{"line":113,"column":2},"end":{"line":113,"column":22}},"55":{"start":{"line":114,"column":10},"end":{"line":159,"column":4}},"56":{"start":{"line":116,"column":4},"end":{"line":116,"column":101}},"57":{"start":{"line":117,"column":4},"end":{"line":119,"column":5}},"58":{"start":{"line":118,"column":5},"end":{"line":118,"column":87}},"59":{"start":{"line":120,"column":2},"end":{"line":120,"column":28}},"60":{"start":{"line":121,"column":2},"end":{"line":121,"column":13}},"61":{"start":{"line":122,"column":2},"end":{"line":122,"column":33}},"62":{"start":{"line":123,"column":10},"end":{"line":159,"column":4}},"63":{"start":{"line":125,"column":4},"end":{"line":125,"column":97}},"64":{"start":{"line":126,"column":5},"end":{"line":126,"column":34}},"65":{"start":{"line":127,"column":2},"end":{"line":127,"column":13}},"66":{"start":{"line":128,"column":5},"end":{"line":128,"column":27}},"67":{"start":{"line":129,"column":10},"end":{"line":159,"column":4}},"68":{"start":{"line":131,"column":4},"end":{"line":131,"column":95}},"69":{"start":{"line":132,"column":2},"end":{"line":134,"column":3}},"70":{"start":{"line":133,"column":3},"end":{"line":133,"column":85}},"71":{"start":{"line":135,"column":5},"end":{"line":135,"column":35}},"72":{"start":{"line":136,"column":2},"end":{"line":136,"column":13}},"73":{"start":{"line":137,"column":2},"end":{"line":137,"column":24}},"74":{"start":{"line":138,"column":10},"end":{"line":159,"column":4}},"75":{"start":{"line":140,"column":4},"end":{"line":140,"column":103}},"76":{"start":{"line":141,"column":2},"end":{"line":141,"column":27}},"77":{"start":{"line":142,"column":2},"end":{"line":142,"column":13}},"78":{"start":{"line":143,"column":5},"end":{"line":143,"column":26}},"79":{"start":{"line":144,"column":10},"end":{"line":159,"column":4}},"80":{"start":{"line":146,"column":4},"end":{"line":146,"column":100}},"81":{"start":{"line":147,"column":2},"end":{"line":147,"column":25}},"82":{"start":{"line":148,"column":2},"end":{"line":148,"column":13}},"83":{"start":{"line":149,"column":2},"end":{"line":149,"column":33}},"84":{"start":{"line":152,"column":2},"end":{"line":152,"column":13}},"85":{"start":{"line":153,"column":2},"end":{"line":153,"column":27}},"86":{"start":{"line":154,"column":2},"end":{"line":154,"column":42}},"87":{"start":{"line":155,"column":2},"end":{"line":155,"column":87}},"88":{"start":{"line":156,"column":6},"end":{"line":156,"column":112}},"89":{"start":{"line":157,"column":4},"end":{"line":157,"column":46}},"90":{"start":{"line":158,"column":2},"end":{"line":158,"column":22}},"91":{"start":{"line":161,"column":6},"end":{"line":164,"column":8}},"92":{"start":{"line":166,"column":6},"end":{"line":169,"column":8}},"93":{"start":{"line":171,"column":6},"end":{"line":171,"column":76}},"94":{"start":{"line":175,"column":6},"end":{"line":175,"column":28}},"95":{"start":{"line":179,"column":2},"end":{"line":179,"column":82}}},"branchMap":{"1":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":6}},{"start":{"line":53,"column":6},"end":{"line":53,"column":6}}]},"2":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":10},"end":{"line":53,"column":26}},{"start":{"line":54,"column":10},"end":{"line":54,"column":47}},{"start":{"line":55,"column":10},"end":{"line":55,"column":47}}]},"3":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":6},"end":{"line":62,"column":6}},{"start":{"line":62,"column":6},"end":{"line":62,"column":6}}]},"4":{"line":62,"type":"binary-expr","locations":[{"start":{"line":62,"column":10},"end":{"line":62,"column":24}},{"start":{"line":62,"column":28},"end":{"line":62,"column":53}}]},"5":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":6},"end":{"line":68,"column":6}},{"start":{"line":68,"column":6},"end":{"line":68,"column":6}}]},"6":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":10},"end":{"line":68,"column":24}},{"start":{"line":68,"column":28},"end":{"line":68,"column":54}}]},"7":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":3},"end":{"line":108,"column":3}},{"start":{"line":108,"column":3},"end":{"line":108,"column":3}}]},"8":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":10},"end":{"line":114,"column":10}},{"start":{"line":114,"column":10},"end":{"line":114,"column":10}}]},"9":{"line":114,"type":"binary-expr","locations":[{"start":{"line":114,"column":14},"end":{"line":114,"column":31}},{"start":{"line":114,"column":35},"end":{"line":114,"column":54}}]},"10":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"11":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":10},"end":{"line":123,"column":10}},{"start":{"line":123,"column":10},"end":{"line":123,"column":10}}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":14},"end":{"line":123,"column":34}},{"start":{"line":123,"column":38},"end":{"line":123,"column":60}}]},"13":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":10},"end":{"line":129,"column":10}},{"start":{"line":129,"column":10},"end":{"line":129,"column":10}}]},"14":{"line":129,"type":"binary-expr","locations":[{"start":{"line":129,"column":14},"end":{"line":129,"column":37}},{"start":{"line":129,"column":41},"end":{"line":129,"column":64}}]},"15":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":2},"end":{"line":132,"column":2}},{"start":{"line":132,"column":2},"end":{"line":132,"column":2}}]},"16":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":10},"end":{"line":138,"column":10}},{"start":{"line":138,"column":10},"end":{"line":138,"column":10}}]},"17":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":14},"end":{"line":138,"column":38}},{"start":{"line":138,"column":42},"end":{"line":138,"column":60}}]},"18":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":10},"end":{"line":144,"column":10}},{"start":{"line":144,"column":10},"end":{"line":144,"column":10}}]},"19":{"line":144,"type":"binary-expr","locations":[{"start":{"line":144,"column":14},"end":{"line":144,"column":33}},{"start":{"line":144,"column":37},"end":{"line":144,"column":53}}]}},"code":["'use strict';","","const suncalc = require('suncalc');","var inherits = require('util').inherits;","","module.exports = homebridge => {","  const Characteristic = homebridge.hap.Characteristic;","  const Service = homebridge.hap.Service;","  const Accessory = homebridge.hap.Accessory;","  const uuid = homebridge.hap.uuid;","  ","  const PeriodValue = function() {","    Characteristic.call(this, 'Suncalc Period Value', '4d640a06-34fe-45d7-bf7c-736bb2cf5693');","    this.setProps({","      format: Characteristic.Formats.UINT8,","      maxValue: 5,","      minValue: 0,","      minStep: 1,","      perms: [Characteristic.Perms.READ, Characteristic.Perms.NOTIFY]","    });","    this.value = this.getDefaultValue();","  };","  inherits(PeriodValue, Characteristic);","  ","  const PeriodName = function() {","    Characteristic.call(this, 'Suncalc Period Name', '4d640a06-34fe-45d7-bf7c-736bb2cf5694');","    this.setProps({","      format: Characteristic.Formats.STRING,","      perms: [Characteristic.Perms.READ]","    });","    this.value = this.getDefaultValue();","  };","  inherits(PeriodName, Characteristic);","  ","  const Suncalc = function(displayName, subtype) {","\t  Service.call(this, displayName, '61f96c67-1b62-4c2b-a300-58c242355017', subtype);","","\t  // Required Characteristics","\t  this.addCharacteristic(PeriodValue);","\t  this.addCharacteristic(PeriodName);","","\t  // Optional Characteristics","\t  this.addOptionalCharacteristic(Characteristic.StatusActive);","\t  this.addOptionalCharacteristic(Characteristic.StatusFault);","\t  this.addOptionalCharacteristic(Characteristic.StatusTampered);","\t  this.addOptionalCharacteristic(Characteristic.StatusLowBattery);","\t  this.addOptionalCharacteristic(Characteristic.Name);","\t};","\tinherits(Suncalc, Service);","","  class SuncalcAccessory {","    constructor(log, config) {","      if (!config.location ||","          !Number.isFinite(config.location.lat) ||","          !Number.isFinite(config.location.lng)) {","        throw new Error('Invalid or missing `location` configuration.');","      }","\t  ","\t  this.sunriseEndOffset = 0","\t  this.sunsetStartOffset = 0","\t  ","      if (!config.offset || !config.offset.sunriseEnd) {","      \tthis.sunriseEndOffset = 0","      } else {","      \tthis.sunriseEndOffset = config.offset.sunriseEnd","      }","\t  ","      if (!config.offset || !config.offset.sunsetStart) {","      \tthis.sunsetStartOffset = 0","      } else {","      \tthis.sunsetStartOffset = config.offset.sunsetStart","      }","","      this.location = config.location;","      // this.service = new Service.LightSensor(config.name);","\t  this.service = new Suncalc(config.name);","  \t  this.log = log;","      this.updateAmbientLightLevel();","    }","","    updateAmbientLightLevel() {","      const nowDate = new Date();","      const now = nowDate.getTime();","","      const sunDates = suncalc.getTimes(","        nowDate,","        this.location.lat,","        this.location.lng","      );","      const times = {","  \t  \tnightEnd: sunDates.nightEnd.getTime(),","\t\tnauticalDawn: sunDates.nauticalDawn.getTime(),","  \t  \tdawn: sunDates.dawn.getTime(),","\t\tsunrise: sunDates.sunrise.getTime(),","        sunriseEnd: sunDates.sunriseEnd.getTime() + (this.sunriseEndOffset * 1000 * 60),","        sunsetStart: sunDates.sunsetStart.getTime() + (this.sunsetStartOffset * 1000 * 60),","        sunset: sunDates.sunset.getTime(),","  \t  \tdusk: sunDates.dusk.getTime(),","\t  \tnauticalDusk: sunDates.nauticalDusk.getTime(),","  \t\tnight: sunDates.night.getTime()","      };","","      let lightRatio;","\t  let sunCalc;","      let nextUpdate;","\t  let periodName;","\t  ","\t  if (now < times.dawn) {","\t\t  // Nightime","\t  \tthis.log(\"Currently Nighttime(0). Morning Twilight begins at \" + sunDates.dawn.toLocaleTimeString())","    \tnextUpdate = times.dawn","\t\tsunCalc = 0","\t\tperiodName = \"Night\"","\t  } else if (now >= times.dawn && now < times.sunrise) {","\t\t  // Morning Twilight","\t  \tthis.log(\"Currently Morning Twilight(1). Sunrise is at \" + sunDates.sunrise.toLocaleTimeString())","  \t\tif (this.sunriseEndOffset != 0) {","  \t\t\tthis.log(\"Sunrise time will be offset by \" + this.sunriseEndOffset + \" minute(s)\")","  \t\t}","\t\tnextUpdate = times.sunrise","\t\tsunCalc = 1","\t\tperiodName = \"Morning Twilight\"","\t  } else if (now >= times.sunrise && now < times.sunriseEnd) {","\t\t  // Sunrise","\t  \tthis.log(\"Currently Sunrise(2). Sunrise ends at \" + sunDates.sunriseEnd.toLocaleTimeString())","    \tnextUpdate = times.sunriseEnd","\t\tsunCalc = 2","    \tperiodName = \"Sunrise\"","\t  } else if (now >= times.sunriseEnd && now < times.sunsetStart) {","\t\t  // Daytime","\t  \tthis.log(\"Currently Daytime(3). Sunset is at \" + sunDates.sunsetStart.toLocaleTimeString())","\t\tif (this.sunsetStartOffset != 0) {","\t\t\tthis.log(\"Sunset time will be offset by \" + this.sunsetStartOffset + \" minute(s)\")","\t\t}","    \tnextUpdate = times.sunsetStart","\t\tsunCalc = 3\t\t ","\t\tperiodName = \"Daytime\"","\t  } else if (now >= times.sunsetStart && now < times.sunset) {","\t\t  // Sunset","\t  \tthis.log(\"Currently Sunset(4). Evening Twilight begins at \" + sunDates.sunset.toLocaleTimeString())","\t\tnextUpdate = times.sunset","\t\tsunCalc = 4","    \tperiodName = \"Sunset\"","\t  } else if (now >= times.sunset && now < times.dusk){","\t\t  // Evening Twilight","\t  \tthis.log(\"Currently Evening Twilight(5). Night begins at \" + sunDates.dusk.toLocaleTimeString())","\t\tnextUpdate = times.dusk","\t\tsunCalc = 5","\t\tperiodName = \"Evening Twilight\"  ","\t  } else {"," \t  \t // Nighttime","\t\tsunCalc = 0\t\t  ","\t\tvar tomorrow = new Date()","\t\ttomorrow.setDate(tomorrow.getDate() + 1)","\t\tconst tomorrowsTimes = suncalc.getTimes(tomorrow,this.location.lat,this.location.lng)","  \t  \tthis.log(\"Currently Nighttime(0). Morning Twilight begins at \" + tomorrowsTimes.dawn.toLocaleTimeString())","  \t\tnextUpdate = tomorrowsTimes.dawn.getTime()","\t\tperiodName = \"Night\"","\t  }","\t  ","      this.service.setCharacteristic(","        PeriodValue,","        sunCalc","      );","\t  ","      this.service.setCharacteristic(","        PeriodName,","        periodName","      );","\t  ","      setTimeout(this.updateAmbientLightLevel.bind(this), nextUpdate - now);","    }","","    getServices() {","      return [this.service];","    }","  }","","  homebridge.registerAccessory('homebridge-suncalc', 'Suncalc', SuncalcAccessory);","};",""],"l":{"3":2,"4":0,"6":0,"7":0,"8":0,"9":0,"10":0,"12":0,"13":0,"14":0,"21":0,"23":0,"25":0,"26":0,"27":0,"31":0,"33":0,"35":0,"36":0,"39":0,"40":0,"43":0,"44":0,"45":0,"46":0,"47":0,"49":0,"53":0,"56":0,"59":0,"60":0,"62":0,"63":0,"65":0,"68":0,"69":0,"71":0,"74":0,"76":0,"77":0,"78":0,"82":0,"83":0,"85":0,"90":0,"103":0,"104":0,"105":0,"106":0,"108":0,"110":0,"111":0,"112":0,"113":0,"114":0,"116":0,"117":0,"118":0,"120":0,"121":0,"122":0,"123":0,"125":0,"126":0,"127":0,"128":0,"129":0,"131":0,"132":0,"133":0,"135":0,"136":0,"137":0,"138":0,"140":0,"141":0,"142":0,"143":0,"144":0,"146":0,"147":0,"148":0,"149":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"161":0,"166":0,"171":0,"175":0,"179":0}},"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/util/mac.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge/node_modules/homebridge/lib/util/mac.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"generate","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":24}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":45},"end":{"line":14,"column":57}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":13}},"3":{"start":{"line":5,"column":0},"end":{"line":7,"column":1}},"4":{"start":{"line":9,"column":0},"end":{"line":18,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":10,"column":42}},"6":{"start":{"line":11,"column":2},"end":{"line":11,"column":23}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":32}},"8":{"start":{"line":13,"column":2},"end":{"line":13,"column":13}},"9":{"start":{"line":14,"column":2},"end":{"line":17,"column":19}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":11}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":16}}},"branchMap":{},"code":["var crypto = require('crypto');","","'use strict';","","module.exports = {","  generate: generate","}","","function generate(data) {","  var sha1sum = crypto.createHash('sha1');","  sha1sum.update(data);","  var s = sha1sum.digest('hex');","  var i = -1;","  return 'xx:xx:xx:xx:xx:xx'.replace(/[x]/g, function(c) {","    i += 1;","    return s[i];","  }).toUpperCase();","};"],"l":{"1":1,"3":1,"5":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0}}}